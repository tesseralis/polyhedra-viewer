(this["webpackJsonppolyhedra-viewer"]=this["webpackJsonppolyhedra-viewer"]||[]).push([[6],{290:function(e,t,n){"use strict";n.d(t,"j",(function(){return r})),n.d(t,"i",(function(){return i})),n.d(t,"h",(function(){return c})),n.d(t,"m",(function(){return o})),n.d(t,"l",(function(){return u})),n.d(t,"k",(function(){return s})),n.d(t,"o",(function(){return l})),n.d(t,"e",(function(){return f})),n.d(t,"d",(function(){return d})),n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return m})),n.d(t,"n",(function(){return h})),n.d(t,"c",(function(){return v})),n.d(t,"f",(function(){return b})),n.d(t,"g",(function(){return g}));var a=n(4);function r(e){return{marginTop:e,marginBottom:e}}function i(e){return{marginLeft:e,marginRight:e}}function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;return Object(a.a)(Object(a.a)({},r(e)),i(t))}function o(e){return{paddingTop:e,paddingBottom:e}}function u(e){return{paddingLeft:e,paddingRight:e}}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;return Object(a.a)(Object(a.a)({},u(t)),o(e))}function l(e){return{width:e,height:e}}function f(e,t){return{display:"flex",flexDirection:"row",alignItems:e,justifyContent:t}}function d(e,t){return{display:"flex",flexDirection:"column",alignItems:e,justifyContent:t}}function p(e,t){return{position:"absolute",[e]:0,[t]:0}}var m={position:"absolute",top:0,left:0,right:0,bottom:0};function h(e){return{["overflow".concat((null!==e&&void 0!==e?e:"").toUpperCase())]:"scroll","-webkit-overflow-scrolling":"touch"}}function v(e){return{color:e,fill:e}}var b={":hover:not(:disabled)":{backgroundColor:"LightGray"}},g=Object(a.a)(Object(a.a)({},v("MediumBlue")),{},{textDecoration:"none",":hover":{textDecoration:"underline"}})},291:function(e,t,n){"use strict";n.d(t,"i",(function(){return c})),n.d(t,"c",(function(){return o})),n.d(t,"e",(function(){return u})),n.d(t,"a",(function(){return s})),n.d(t,"f",(function(){return l})),n.d(t,"b",(function(){return f})),n.d(t,"d",(function(){return d})),n.d(t,"h",(function(){return p})),n.d(t,"g",(function(){return m})),n.d(t,"j",(function(){return h}));var a=n(20),r=n(101),i=Math.pow(10,-3);function c(e,t){return e.distanceToSquared(t)<i}var o=function(e,t){return(new r.Vector3).addVectors(e,t).divideScalar(2)};function u(e,t){return c(e.clone().negate(),t)}function s(e,t,n){return t.clone().sub(e).angleTo(n.clone().sub(e))}function l(e){var t=function(e){if(e.length<3)throw new Error("Need at least three points for a plane");return(new r.Plane).setFromCoplanarPoints(e[0],e[1],e[2])}(e);return e.every((function(e){return Math.abs(t.distanceToPoint(e))<i}))}function f(e){return e.reduce((function(e,t){return e.add(t)}),new r.Vector3).divideScalar(e.length)}function d(e){var t=Object(a.a)(e,3),n=t[0],r=t[1],i=t[2];return n.clone().sub(r).cross(r.clone().sub(i)).normalize()}function p(e){return(new r.Matrix4).makeTranslation(e.x,e.y,e.z)}function m(e){return(new r.Matrix4).makeScale(e,e,e)}function h(e,t){var n=p(e);return(new r.Matrix4).getInverse(n).premultiply(t).premultiply(n)}},296:function(e,t,n){"use strict";var a=n(309);n.d(t,"Polyhedron",(function(){return a.a}));n(303),n(300);var r=n(310);n.d(t,"Face",(function(){return r.a}));var i=n(302);n.d(t,"Edge",(function(){return i.a}));var c=n(312);n.d(t,"Cap",(function(){return c.a}));n(328);var o=n(313);n.d(t,"normalizeVertex",(function(){return o.b}))},300:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var a=n(5),r=n(6),i=n(12),c=n(13),o=n(101),u=n(291),s=n(301),l=Math.PI,f=Math.sin,d=Math.tan,p=function(e){Object(i.a)(n,e);var t=Object(c.a)(n);function n(e,r){var i;return Object(a.a)(this,n),(i=t.call(this,e[0].polyhedron)).vertices=void 0,i.edges=void 0,i.vectors=void 0,i.vertices=e,i.edges=r,i.vectors=i.vertices.map((function(e){return e.vec})),i}return Object(r.a)(n,[{key:"adjacentFaces",value:function(){return this.edges.map((function(e){return e.twin().face}))}},{key:"numUniqueSides",value:function(){return this.edges.filter((function(e){return e.isValid()})).length}},{key:"sideLength",value:function(){return this.edges[0].length()}},{key:"isPlanar",value:function(){return Object(u.f)(this.vectors)}},{key:"plane",value:function(){return(new o.Plane).setFromNormalAndCoplanarPoint(this.normal(),this.centroid())}},{key:"apothem",value:function(){return this.sideLength()/(2*d(l/this.numSides))}},{key:"radius",value:function(){return this.sideLength()/(2*f(l/this.numSides))}},{key:"area",value:function(){return this.numSides*this.sideLength()*this.apothem()/2}},{key:"normal",value:function(){return Object(u.d)(this.vectors)}},{key:"isValid",value:function(){return this.edges.every((function(e){return e.isValid()}))}},{key:"numSides",get:function(){return this.vertices.length}}]),n}(s.a)},301:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(5),r=n(6),i=n(573),c=n(101),o=n(291),u=function(){function e(t){var n=this;Object(a.a)(this,e),this.polyhedron=void 0,this.centroid=Object(i.a)((function(){return Object(o.b)(n.vertices.map((function(e){return e.vec})))})),this.polyhedron=t}return Object(r.a)(e,[{key:"normalRay",value:function(){return new c.Ray(this.centroid(),this.normal())}},{key:"distanceToCenter",value:function(){return this.polyhedron.centroid().distanceTo(this.centroid())}},{key:"rotateNormal",value:function(e){return(new c.Matrix4).makeRotationAxis(this.normal(),e)}},{key:"translateNormal",value:function(e){var t=this.normal().clone().setLength(e);return Object(o.h)(t)}},{key:"withCentroidOrigin",value:function(e){return Object(o.j)(this.centroid(),e)}}]),e}()},302:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(5),r=n(6),i=n(12),c=n(13),o=n(291),u=n(301),s=n(63),l=function(e){Object(i.a)(n,e);var t=Object(c.a)(n);function n(e,r){var i;return Object(a.a)(this,n),(i=t.call(this,e.polyhedron)).v1=void 0,i.v2=void 0,i.v1=e,i.v2=r,i}return Object(r.a)(n,[{key:"prev",value:function(){var e=this;return Object(s.d)(this.face.edges,(function(t){return t.v2.equals(e.v1)}))}},{key:"next",value:function(){var e=this;return Object(s.d)(this.face.edges,(function(t){return t.v1.equals(e.v2)}))}},{key:"length",value:function(){return this.v1.vec.distanceTo(this.v2.vec)}},{key:"isValid",value:function(){return!Object(o.i)(this.v1.vec,this.v2.vec)}},{key:"midpoint",value:function(){return this.centroid()}},{key:"twin",value:function(){return new n(this.v2,this.v1)}},{key:"twinFace",value:function(){return this.twin().face}},{key:"undirected",value:function(){return this.v2.index>this.v1.index?this:this.twin()}},{key:"adjacentFaces",value:function(){return[this.face,this.twin().face]}},{key:"dihedralAngle",value:function(){return Object(o.a)(this.midpoint(),this.face.centroid(),this.twinFace().centroid())}},{key:"normal",value:function(){return Object(o.c)(this.face.normal(),this.twinFace().normal())}},{key:"equals",value:function(e){return this.v1.equals(e.v1)&&this.v2.equals(e.v2)}},{key:"value",get:function(){return[this.v1.index,this.v2.index]}},{key:"vertices",get:function(){return[this.v1,this.v2]}},{key:"face",get:function(){return this.polyhedron.edgeToFaceGraph()[this.v1.index][this.v2.index]}}]),n}(u.a)},303:function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var a=n(8),r=n.n(a),i=n(5),c=n(6),o=n(70),u=n(12),s=n(13),l=n(311),f=n(11),d=n(20),p=n(574),m=n(569),h=n(291),v=n(301),b=n(302),g=n(63);function O(e){return e.map((function(t,n){var a=Object(g.j)(e,n),r=Object(d.a)(a,2),i=r[0],c=r[1];return[].concat(Object(f.a)(c),Object(f.a)(i))}))}function j(e,t){if(0===e.length)return e;if(0===t.length)return t;var n=Object(l.a)(e),a=n[0],r=n.slice(1),i=Object(l.a)(t),c=i[0],o=i.slice(1);return a<c?e:c<a?t:[a].concat(Object(f.a)(j(r,o)))}var y=function(e){Object(u.a)(n,e);var t=Object(s.a)(n);function n(e,a){var r;return Object(i.a)(this,n),(r=t.call(this,e)).index=void 0,r.vec=void 0,r.vertices=[Object(o.a)(r)],r.index=a,r.vec=e._solidData.vertices[a],r}return Object(c.a)(n,[{key:"equals",value:function(e){return this.index===e.index}},{key:"inSet",value:function(e){var t=this;return e.some((function(e){return t.equals(e)}))}},{key:"adjacentEdgesIter",value:r.a.mark((function e(){var t,n,a,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=parseInt(Object(p.a)(this.polyhedron.edgeToFaceGraph()[this.index])),n=new b.a(this,this.polyhedron.vertices[t]),a=n,i=0;case 4:return i++,e.next=7,a;case 7:if(a=a.prev().twin(),!(i>10)){e.next=10;break}throw new Error("we done messed up");case 10:if(!a.equals(n)){e.next=4;break}case 11:case"end":return e.stop()}}),e,this)}))},{key:"adjacentEdges",value:function(){return Object(f.a)(this.adjacentEdgesIter())}},{key:"adjacentVertices",value:function(){return this.adjacentEdges().map((function(e){return e.v2}))}},{key:"adjacentFaces",value:function(){return this.adjacentEdges().map((function(e){return e.face}))}},{key:"configuration",value:function(){var e=this.adjacentFaces().map((function(e){return e.numSides}));return O(e).concat(O(Object(f.a)(e).reverse())).reduce(j)}},{key:"adjacentFaceCounts",value:function(){return Object(m.a)(this.adjacentFaces(),"numSides")}},{key:"normal",value:function(){return Object(h.b)(this.adjacentFaces().map((function(e){return e.normal()}))).normalize()}}]),n}(v.a)},309:function(e,t,n){"use strict";n.d(t,"a",(function(){return C}));var a=n(321),r=n(11),i=n(4),c=n(2),o=n(5),u=n(6),s=n(573),l=n(135),f=n(569),d=n(576),p=n(575),m=n(570),h=n(577),v=n(288),b=n(101),g=n(66),O=n(92),j=n(291),y=n(310),k=n(303),w=n(312),E=n(313),x=n(63),F=Math.PI,S=Math.cbrt;var C=function(){function e(t){var n=this;Object(o.a)(this,e),this._solidData=void 0,this.faces=void 0,this.vertices=void 0,this._edges=void 0,this.edgeToFaceGraph=Object(s.a)((function(){var e,t={},a=Object(c.a)(n.faces);try{for(a.s();!(e=a.n()).done;){var r,i=e.value,o=Object(c.a)(i.edges);try{for(o.s();!(r=o.n()).done;){var u=r.value,s=u.v1,f=u.v2;Object(l.a)(t,[s.index,f.index],i)}}catch(d){o.e(d)}finally{o.f()}}}catch(d){a.e(d)}finally{a.f()}return t})),this.caps=Object(s.a)((function(){return w.a.getAll(n)})),this._solidData=t,this.vertices=t.vertices.map((function(e,t){return new k.a(n,t)})),this.faces=t.faces.map((function(e,t){return new y.a(n,t)}))}return Object(u.a)(e,[{key:"rawSolidData",value:function(){return Object(i.a)(Object(i.a)({},this.solidData),{},{vertices:this.vertices.map((function(e){return e.vec.toArray()}))})}},{key:"toString",value:function(){return"Polyhedron { V=".concat(this.numVertices(),", E=").concat(this.numEdges(),", F=").concat(this.numFaces()," }")}},{key:"toJSON",value:function(){return this.solidData}},{key:"numVertices",value:function(){return this.vertices.length}},{key:"numFaces",value:function(){return this.faces.length}},{key:"numEdges",value:function(){return this.edges.length}},{key:"numFacesBySides",value:function(){return Object(f.a)(this.faces,"numSides")}},{key:"getVertex",value:function(){return this.vertices[0]}},{key:"getFace",value:function(){return this.faces[0]}},{key:"getEdge",value:function(){return this.edges[0]}},{key:"largestFace",value:function(){return Object(d.a)(this.faces,"numSides")}},{key:"smallestFace",value:function(){return Object(p.a)(this.faces,"numSides")}},{key:"faceWithNumSides",value:function(e){return Object(x.d)(this.faces,(function(t){return t.numSides===e}))}},{key:"faceTypes",value:function(){return Object(m.a)(Object.keys(this.numFacesBySides()))}},{key:"vertexConfiguration",value:function(){return Object(f.a)(this.vertices.map((function(e){return e.configuration()})),(function(e){return e.join(".")}))}},{key:"edgeLength",value:function(){return this.getFace().sideLength()}},{key:"centroid",value:function(){return Object(j.b)(this.vertices.map((function(e){return e.vec})))}},{key:"surfaceArea",value:function(){return Object(h.a)(this.faces.map((function(e){return e.area()})))}},{key:"normalizedSurfaceArea",value:function(){return this.surfaceArea()/Math.pow(this.edgeLength(),2)}},{key:"volume",value:function(){return Object(h.a)(this.faces.map((function(e){return e.area()*e.distanceToCenter()/3})))}},{key:"normalizedVolume",value:function(){return this.volume()/Math.pow(this.edgeLength(),3)}},{key:"sphericity",value:function(){var e=this.volume(),t=this.surfaceArea();return Math.pow(F,1/3)*Math.pow(6*e,2/3)/t}},{key:"hitFace",value:function(e){return Object(p.a)(this.faces,(function(t){return Math.abs(t.plane().distanceToPoint(e))}))}},{key:"withChanges",value:function(e){return e(new E.a(this)).build()}},{key:"withVertices",value:function(e){return this.withChanges((function(t){return t.withVertices(e)}))}},{key:"withFaces",value:function(e){return this.withChanges((function(t){return t.withFaces(e)}))}},{key:"withoutFaces",value:function(e){return this.withChanges((function(t){return t.withoutFaces(e)}))}},{key:"addPolyhedron",value:function(e){return this.withChanges((function(t){return t.addPolyhedron(e)}))}},{key:"reflect",value:function(){return this.withChanges((function(e){return e.mapVertices((function(e){return new b.Vector3(-e.vec.x,e.vec.y,e.vec.z)})).mapFaces((function(e){return Object(r.a)(e.vertices.map((function(e){return e.index}))).reverse()}))}))}},{key:"center",value:function(){var e=this.centroid();return this.withVertices(this.vertices.map((function(t){return t.vec.sub(e)})))}},{key:"normalizeToVolume",value:function(e){var t=S(e/this.volume());return this.withVertices(this.vertices.map((function(e){return e.vec.multiplyScalar(t)})))}},{key:"isDeltahedron",value:function(){var e=Object.keys(this.numFacesBySides());return 1===e.length&&3===+e[0]}},{key:"faceAdjacencyList",value:function(){var e=this.faces.map((function(e){return{n:e.numSides,adj:e.adjacentFaceCounts()}}));return Object(m.a)(e,["n","adj.length"].concat(O.o.map((function(e){return"adj[".concat(e,"]")}))))}},{key:"isSame",value:function(e){return Object(v.a)(this.faceAdjacencyList(),e.faceAdjacencyList())}},{key:"edges",get:function(){return this._edges||(this._edges=this.faces.flatMap((function(e){return e.edges})).filter((function(e){return e.v1.index<e.v2.index}))),this._edges}},{key:"solidData",get:function(){return this._solidData.edges||(this._solidData.edges=this.edges.map((function(e){return e.value}))),this._solidData}}],[{key:"fromRawData",value:function(t){return new e(Object(i.a)(Object(i.a)({},t),{},{vertices:t.vertices.map((function(e){return Object(a.a)(b.Vector3,Object(r.a)(e))}))}))}},{key:"get",value:function(e){return this.fromRawData(Object(g.d)(e))}}]),e}()},310:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var a=n(5),r=n(6),i=n(12),c=n(13),o=n(569),u=n(63),s=n(300),l=n(302),f=function(e){Object(i.a)(n,e);var t=Object(c.a)(n);function n(e,r){var i;Object(a.a)(this,n);var c=e._solidData.faces[r],o=c.map((function(t){return e.vertices[t]})),s=o.map((function(e,t){return new l.a(e,Object(u.f)(o,t+1))}));return(i=t.call(this,o,s)).index=void 0,i.value=void 0,i.index=r,i.value=c,i}return Object(r.a)(n,[{key:"equals",value:function(e){return this.index===e.index}},{key:"inSet",value:function(e){var t=this;return e.some((function(e){return t.equals(e)}))}},{key:"vertexAdjacentFaces",value:function(){return Object(u.e)(this.vertices,(function(e){return e.adjacentFaces()}),"index")}},{key:"adjacentFaceCounts",value:function(){return Object(o.a)(this.adjacentFaces(),"numSides")}}]),n}(s.a)},312:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var a=n(5),r=n(6),i=n(12),c=n(13),o=n(575),u=n(573),s=n(569),l=n(288),f=n(63),d=n(301),p=n(300);function m(e,t){return function(n){return e(n).map((function(e){return new t(n,e)})).filter((function(e){return e.isValid()}))}}var h=function(e){Object(i.a)(n,e);var t=Object(c.a)(n);function n(e,r,i,c,o){var s;return Object(a.a)(this,n),(s=t.call(this,e)).type=void 0,s._innerVertices=void 0,s.topPoint=void 0,s.faceConfiguration=void 0,s.allVertices=Object(u.a)((function(){return s.innerVertices().concat(s.boundary().vertices)})),s.faces=Object(u.a)((function(){return Object(f.e)(s.innerVertices(),(function(e){return e.adjacentFaces()}),"index")})),s.boundary=Object(u.a)((function(){return function(e){var t=Object(f.d)(e.flatMap((function(e){return e.edges})),(function(t){return!t.twin().face.inSet(e)})),n=[],a=t,r=0;do{if(r++>20)throw new Error("we done goofed");if(a.twin().face.inSet(e))a=a.twin().next();else{n.push(a);var i=a.next().twin();a=i.face.inSet(e)?i.next():a.next()}}while(!a.equals(t));return new p.a(n.map((function(e){return e.v1})),n)}(s.faces())})),s.centroid=function(){return s.boundary().centroid()},s._innerVertices=r,s.type=i,s.topPoint=c,s.faceConfiguration=o,s}return Object(r.a)(n,null,[{key:"find",value:function(e,t){var n=e.hitFace(t),a=e.caps().filter((function(e){return n.inSet(e.faces())}));return 0===a.length?null:Object(o.a)(a,(function(e){return e.topPoint.distanceToSquared(t)}))}},{key:"getAll",value:function(e){var t=v.getAll(e);if(t.length>0)return t;var n=b.getAll(e);if(n.length>0)return n;var a=g.getAll(e).concat(O.getAll(e));return a.length>0?a:[]}}]),Object(r.a)(n,[{key:"innerVertices",value:function(){return this._innerVertices}},{key:"normal",value:function(){return this.boundary().normal()}},{key:"isValid",value:function(){var e=this;return this.innerVertices().every((function(t){var n=Object(s.a)(t.adjacentFaces(),"numSides");return Object(l.a)(n,e.faceConfiguration)}))&&this.faces().every((function(e){return e.isValid()}))&&this.boundary().isPlanar()}},{key:"vertices",get:function(){return this.allVertices()}}]),n}(d.a),v=function(e){Object(i.a)(n,e);var t=Object(c.a)(n);function n(e,r){return Object(a.a)(this,n),t.call(this,e,[r],"pyramid",r.vec,{3:r.adjacentEdges().length})}return n}(h);v.getAll=m((function(e){return e.vertices}),v);var b=function(e){Object(i.a)(n,e);var t=Object(c.a)(n);function n(e,r){Object(a.a)(this,n);return t.call(this,e,r.vertices,"cupola",r.midpoint(),{3:1,4:2})}return n}(h);b.getAll=m((function(e){return e.edges}),b);var g=function(e){Object(i.a)(n,e);var t=Object(c.a)(n);function n(e,r){return Object(a.a)(this,n),t.call(this,e,r.vertices,"cupola",r.centroid(),Object(s.a)([3,4,4,r.numSides]))}return n}(h);g.getAll=m((function(e){return e.faces}),g);var O=function(e){Object(i.a)(n,e);var t=Object(c.a)(n);function n(e,r){return Object(a.a)(this,n),t.call(this,e,Object(f.e)(r.vertices,(function(e){return e.adjacentVertices()}),"index"),"rotunda",r.centroid(),{5:2,3:2})}return n}(h);O.getAll=m((function(e){return e.faces}),O)},313:function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return d}));var a=n(11),r=n(4),i=n(5),c=n(6),o=n(568),u=n(303),s=n(309);function l(e){return e instanceof u.a?e.vec:e}function f(e){return Array.isArray(e)?e.map((function(e){return"number"===typeof e?e:e.index})):e.value}var d=function(){function e(t){Object(i.a)(this,e),this.polyhedron=void 0,this.solidData=void 0,this.polyhedron=t,this.solidData=Object(r.a)({},t.solidData)}return Object(c.a)(e,[{key:"build",value:function(){return new s.a(this.solidData)}},{key:"withVertices",value:function(e){return this.solidData.vertices=e.map(l),this}},{key:"withFaces",value:function(e){return this.solidData.faces=e.map(f),delete this.solidData.edges,this}},{key:"addVertices",value:function(e){return this.withVertices(this.solidData.vertices.concat(e))}},{key:"addFaces",value:function(e){return this.withFaces(this.solidData.faces.concat(e))}},{key:"mapVertices",value:function(e){return this.withVertices(this.polyhedron.vertices.map(e))}},{key:"mapFaces",value:function(e){return this.withFaces(this.polyhedron.faces.map(e))}},{key:"withoutFaces",value:function(e){var t=Object(a.a)(this.solidData.faces);return Object(o.a)(t,e.map((function(e){return e.index}))),this.withFaces(t)}},{key:"addPolyhedron",value:function(e){var t=this;return this.addVertices(e.vertices).addFaces(e.faces.map((function(e){return e.vertices.map((function(e){return e.index+t.polyhedron.numVertices()}))})))}}]),e}()},328:function(e,t){},539:function(e,t,n){e.exports=n.p+"static/media/sad-scutoid.7909547f.png"},566:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return Lr}));var a=n(0),r=n.n(a),i=n(1),c=n(63),o=n(66),u=n(99),s=n(98),l=n(92);function f(e){return Object(l.h)(e).conwaySymbol()}var d=new s.a(o.a.map((function(e){return[e,f(e)]})));var p=n(4),m=n(65),h=n(17),v=n(290),b=n(539),g=n.n(b),O=n(64);function j(){var e=Object(h.d)(Object(v.o)(h.c.size[5]));return r.a.createElement("img",Object.assign({},e(),{src:g.a,alt:""}))}function y(){var e=Object(h.d)({textAlign:"center",fontFamily:h.a.andaleMono,fontSize:h.c.font[3],[h.b.mobile]:{fontSize:h.c.font[4]}});return r.a.createElement("h1",e(),"Uh oh! We don't know about that polyhedron!")}function k(){var e=Object(h.d)(Object(p.a)({fontFamily:h.a.andaleMono,fontSize:h.c.font[4]},v.g));return r.a.createElement(m.b,Object.assign({},e(),{to:"/"}),"Go back")}function w(){Object(O.d)("Error - Polyhedra Viewer");var e=Object(h.d)({width:"100vw",height:"100vh",display:"grid",gridGap:h.c.spacing[2],alignContent:"center",justifyContent:"center",justifyItems:"center"});return r.a.createElement("section",e(),r.a.createElement(j,null),r.a.createElement(y,null),r.a.createElement(k,null))}var E=n(20),x=n(287),F=n(5),S=function e(t,n){Object(F.a)(this,e),this.specs=void 0,this.geom=void 0,this.specs=t,this.geom=n},C=n(334),A=n(94),D=n(11),V=n(6),T=n(12),P=n(13),M=n(101),G=n(291),L=n(2),N=n(560),z=n(571),q=n(561),I=n(562),R=n(563),B=n(296);function H(e,t){switch(t){case"left":return e.twin().next().twin().prev().twinFace();case"right":return e.twin().prev().twin().next().twinFace();default:return e.twin().next().next().twinFace()}}function W(e){var t=e.origin,n=e.scale,a=function(e){var t=Object(E.a)(e,2),n=t[0],a=t[1],r=n.clone().normalize();return[r,a.clone().projectOnPlane(r).normalize()]}(e.orientation),r=Object(E.a)(a,2),i=r[0],c=r[1],o=Object(G.h)(t),u=Object(G.g)(n);return(new M.Matrix4).makeBasis(i,c,i.clone().cross(c)).premultiply(u).premultiply(o)}function _(e,t,n){var a=W(t),r=W(n),i=a.getInverse(a),c=e.vertices.map((function(e){return e.vec.clone().applyMatrix4(i).applyMatrix4(r)}));return e.withVertices(c)}function U(e){var t=B.Polyhedron.get(e.canonicalName());if(e.isClassical()&&e.isSnub()&&"left"===e.data.twist)return t.reflect();if(e.isCapstone()&&e.isChiral()){if(e.isCupolaRotunda()&&"left"===e.data.twist)return t.reflect();if(!e.isCupolaRotunda()&&"right"===e.data.twist)return t.reflect()}return t}function J(e){var t=e.faces.flatMap((function(e){return e.vertices})),n=e.vertices.filter((function(e){return!e.inSet(t)})),a=n.length,r=Object(N.a)(e.vertices,a).filter((function(e){return!e.inSet(n)})),i=Object(c.h)(r,(function(e,t){return[e.index,n[t].index]})),o=Object(z.a)(i),u=Object(q.a)(e.vertices.map((function(t){var n;return e.vertices[null!==(n=o[t.index])&&void 0!==n?n:t.index]})),a);return e.withChanges((function(e){return e.withVertices(u).mapFaces((function(e){return e.vertices.map((function(e){var t;return null!==(t=i[e.index])&&void 0!==t?t:e.index}))}))}))}function Y(e){var t=[],n={};if(e.vertices.forEach((function(e,a){var r=t.find((function(t){return Object(G.i)(e.vec,t.vec)}));void 0===r?(t.push(e),n[a]=a):n[a]=r.index})),Object(I.a)(n))return e;var a=e.faces.map((function(e){return Object(R.a)(e.vertices.map((function(e){return n[e.index]})))})).filter((function(e){return e.length>=3}));return J(e.withFaces(a))}function Q(e){return e instanceof M.Matrix4?function(t){return t.clone().applyMatrix4(e)}:e instanceof M.Vector3?function(){return e}:e}function K(e,t){var n,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e[0].polyhedron.vertices,r=Object(D.a)(a),i=Object(L.a)(e);try{for(i.s();!(n=i.n()).done;){var c,o=n.value,u=Object(L.a)(o.vertices);try{for(u.s();!(c=u.n()).done;){var s=c.value,l=Q(t(o));r[s.index]=l(s.vec)}}catch(f){u.e(f)}finally{u.f()}}}catch(f){i.e(f)}finally{i.f()}return r}var X=function(e){Object(T.a)(n,e);var t=Object(P.a)(n);function n(){return Object(F.a)(this,n),t.apply(this,arguments)}return Object(V.a)(n,[{key:"faceType",value:function(e){return"vertex"===e?3:this.specs.data.family}},{key:"_isFacetFace",value:function(e,t){return e.numSides===this.faceType(t)}},{key:"isFacetFace",value:function(e,t){return this.specs.isTetrahedral()?e.inSet(this.tetrahedralFacetFaces(t)):this._isFacetFace(e,t)}},{key:"isAnyFacetFace",value:function(e){var t=this;return l.g.some((function(n){return t.isFacetFace(e,n)}))}},{key:"getFacet",value:function(e){return this.isFacetFace(e,"vertex")?"vertex":this.isFacetFace(e,"face")?"face":null}},{key:"facetFace",value:function(e){var t=this;return Object(c.d)(this.geom.faces,(function(n){return t.isFacetFace(n,e)}))}},{key:"facetFaces",value:function(e){var t=this;return this.specs.isTetrahedral()?this.tetrahedralFacetFaces(e):this.geom.faces.filter((function(n){return t.isFacetFace(n,e)}))}},{key:"adjacentFacetFaces",value:function(e){var t=this.facetFace(e);return[t,this.adjacentFacetFace(t,e)]}},{key:"mainFacet",value:function(){return this.specs.facet()}},{key:"minorFacet",value:function(){return Object(l.k)(this.specs.facet())}},{key:"isMainFacetFace",value:function(e){return this.isFacetFace(e,this.mainFacet())}},{key:"isMinorFacetFace",value:function(e){return this.isFacetFace(e,this.minorFacet())}},{key:"mainFacetFace",value:function(){return this.facetFace(this.mainFacet())}},{key:"mainFacetFaces",value:function(){return this.facetFaces(this.mainFacet())}},{key:"minorFacetFace",value:function(){return this.facetFace(this.minorFacet())}},{key:"minorFacetFaces",value:function(){return this.facetFaces(this.minorFacet())}},{key:"isEdgeFace",value:function(e){return!this.isAnyFacetFace(e)}},{key:"edgeFace",value:function(){var e=this;return Object(c.d)(this.geom.faces,(function(t){return e.isEdgeFace(t)}))}},{key:"edgeFaces",value:function(){var e=this;return this.geom.faces.filter((function(t){return e.isEdgeFace(t)}))}},{key:"inradius",value:function(e){return this.facetFace(e).distanceToCenter()}},{key:"midradius",value:function(){throw new Error("Polyhedron ".concat(this.specs.name()," does not have consistent midradius"))}},{key:"circumradius",value:function(){return this.geom.getVertex().distanceToCenter()}},{key:"snubAngle",value:function(e){return 0}}],[{key:"create",value:function(e,t){switch(e.data.operation){case"regular":return new Z(e,t);case"truncate":return new $(e,t);case"rectify":return new ee(e,t);case"bevel":return new te(e,t);case"cantellate":return new ne(e,t);case"snub":return new ae(e,t)}}},{key:"fromSpecs",value:function(e){return this.create(e,U(e))}},{key:"fromName",value:function(e){var t=Object(l.i)(e);if(!t.isClassical())throw new Error("Invalid specs for name");return this.fromSpecs(t)}}]),n}(S),Z=function(e){Object(T.a)(n,e);var t=Object(P.a)(n);function n(){return Object(F.a)(this,n),t.apply(this,arguments)}return Object(V.a)(n,[{key:"_isFacetFace",value:function(e,t){return t===this.specs.facet()}},{key:"tetrahedralFacetFaces",value:function(e){return e===this.specs.facet()?this.geom.faces:[]}},{key:"adjacentFacetFace",value:function(e,t){return e.adjacentFaces()[0]}},{key:"midradius",value:function(){return this.geom.getEdge().distanceToCenter()}}]),n}(X),$=function(e){Object(T.a)(n,e);var t=Object(P.a)(n);function n(){return Object(F.a)(this,n),t.apply(this,arguments)}return Object(V.a)(n,[{key:"_isFacetFace",value:function(e,t){return this.specs.facet()===t?e.numSides>5:e.numSides<=5}},{key:"tetrahedralFacetFaces",value:function(e){var t=this;return this.geom.faces.filter((function(n){return n.numSides===(t.specs.facet()===e?6:3)}))}},{key:"adjacentFacetFace",value:function(e,t){var n=this;return Object(c.d)(e.adjacentFaces(),(function(e){return n.isFacetFace(e,t)}))}}]),n}(X),ee=function(e){Object(T.a)(n,e);var t=Object(P.a)(n);function n(){return Object(F.a)(this,n),t.apply(this,arguments)}return Object(V.a)(n,[{key:"tetrahedralFacetFaces",value:function(e){var t=this.geom.getFace();return"vertex"===e&&(t=t.adjacentFaces()[0]),[t].concat(Object(D.a)(t.edges.map((function(e){return e.twin().prev().twinFace()}))))}},{key:"adjacentFacetFace",value:function(e,t){var n=this;return Object(c.d)(e.vertices[0].adjacentFaces(),(function(a){return n.isFacetFace(a,t)&&!a.equals(e)}))}}]),n}(X),te=function(e){Object(T.a)(n,e);var t=Object(P.a)(n);function n(){return Object(F.a)(this,n),t.apply(this,arguments)}return Object(V.a)(n,[{key:"faceType",value:function(e){return 2*Object(C.a)(Object(A.a)(n.prototype),"faceType",this).call(this,e)}},{key:"tetrahedralFacetFaces",value:function(e){var t=this.geom.faceWithNumSides(6);"vertex"===e&&(t=Object(c.d)(t.adjacentFaces(),(function(e){return 6===e.numSides})));var n=t.edges.filter((function(e){return 4===e.twinFace().numSides})).map((function(e){return H(e)}));return[t].concat(Object(D.a)(n))}},{key:"adjacentFacetFace",value:function(e,t){var n=this;return H(e.edges.filter((function(e){return n.isEdgeFace(e.twinFace())}))[0])}}]),n}(X),ne=function(e){Object(T.a)(n,e);var t=Object(P.a)(n);function n(){return Object(F.a)(this,n),t.apply(this,arguments)}return Object(V.a)(n,[{key:"_isFacetFace",value:function(e,t){return Object(C.a)(Object(A.a)(n.prototype),"_isFacetFace",this).call(this,e,t)&&e.adjacentFaces().every((function(e){return 4===e.numSides}))}},{key:"tetrahedralFacetFaces",value:function(e){var t=this.geom.faceWithNumSides(3);return"vertex"===e&&(t=t.edges[0].twin().next().twinFace()),[t].concat(Object(D.a)(t.edges.map((function(e){return H(e)}))))}},{key:"adjacentFacetFace",value:function(e,t){return H(e.edges[0])}}]),n}(X),ae=function(e){Object(T.a)(n,e);var t=Object(P.a)(n);function n(){var e;Object(F.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).tetrahedralFacetFaces=function(t){var n=e.geom.faces[0],a=n.edges[0].twin(),r=e.specs.data.twist;return"vertex"===t&&(n="left"===r?a.prev().twinFace():a.next().twinFace(),r=Object(l.l)(r)),[n].concat(Object(D.a)(n.edges.map((function(e){return H(e,r)}))))},e}return Object(V.a)(n,[{key:"_isFacetFace",value:function(e,t){return Object(C.a)(Object(A.a)(n.prototype),"_isFacetFace",this).call(this,e,t)&&e.adjacentFaces().every((function(e){return 3===e.numSides}))}},{key:"adjacentFacetFace",value:function(e,t){var n=this.specs.data.twist;return"vertex"===t&&(n=Object(l.l)(n)),H(e.edges[0],n)}},{key:"snubAngle",value:function(e){var t=this.adjacentFacetFaces(e),n=Object(E.a)(t,2),a=n[0],r=n[1],i=Object(G.a)(a.centroid(),a.edges[0].midpoint(),a.plane().projectPoint(r.centroid(),new M.Vector3));return("left"===this.specs.data.twist?-1:1)*("vertex"===e?-1:1)*i}}]),n}(X),re=function(e){Object(T.a)(n,e);var t=Object(P.a)(n);function n(){return Object(F.a)(this,n),t.apply(this,arguments)}return Object(V.a)(n,[{key:"baseCaps",value:function(){return this.bases().filter((function(e){return e instanceof B.Cap}))}},{key:"baseFaces",value:function(){return this.bases().filter((function(e){return e instanceof B.Face}))}},{key:"baseBoundaries",value:function(){return this.bases().map((function(e){return e instanceof B.Cap?e.boundary():e}))}},{key:"prismaticHeight",value:function(){var e=this.baseBoundaries(),t=Object(E.a)(e,2),n=t[0],a=t[1];return n.centroid().distanceTo(a.centroid())}},{key:"baseOf",value:function(e){return this.bases().find((function(t){return t instanceof B.Cap?e.inSet(t.faces()):!(t instanceof B.Edge)&&e.equals(t)}))}},{key:"inBase",value:function(e){return!!this.baseOf(e)}},{key:"isBaseTop",value:function(e){var t=this.baseOf(e);return!(t instanceof B.Edge)&&(t&&Object(G.i)(e.normal(),t.normal()))}}],[{key:"create",value:function(e,t){switch(e.data.count){case 0:return e.isSnub()?new ce(e,t):new ie(e,t);case 1:return new oe(e,t);case 2:return new ue(e,t)}}},{key:"fromSpecs",value:function(e){return this.create(e,U(e))}},{key:"fromName",value:function(e){var t=Object(l.i)(e);if(!t.isCapstone())throw new Error("Invalid specs for name");return this.fromSpecs(t)}}]),n}(S),ie=function(e){Object(T.a)(n,e);var t=Object(P.a)(n);function n(){return Object(F.a)(this,n),t.apply(this,arguments)}return Object(V.a)(n,[{key:"bases",value:function(){if(this.specs.isDigonal()){var e=this.geom.getEdge(),t=Object(c.d)(this.geom.edges,(function(t){return Object(G.e)(t.normal(),e.normal())}));return[e,t]}var n=this.geom.faceWithNumSides(this.specs.baseSides()),a=Object(c.d)(this.geom.faces,(function(e){return Object(G.e)(n.normal(),e.normal())}));return[n,a]}}]),n}(re),ce=function(e){Object(T.a)(n,e);var t=Object(P.a)(n);function n(){return Object(F.a)(this,n),t.apply(this,arguments)}return Object(V.a)(n,[{key:"bases",value:function(){if(this.specs.isDigonal()){var e=this.geom.edges.filter((function(e){return e.vertices.every((function(e){return 4===e.adjacentFaces().length}))}));if(2!==e.length)throw new Error("Invalid number of bases");return[e[0],e[1]]}var t=this.geom.faceWithNumSides(this.specs.baseSides()),n=Object(c.d)(this.geom.faces,(function(e){return Object(G.e)(t.normal(),e.normal())}));return[t,n]}}]),n}(re),oe=function(e){Object(T.a)(n,e);var t=Object(P.a)(n);function n(){return Object(F.a)(this,n),t.apply(this,arguments)}return Object(V.a)(n,[{key:"bases",value:function(){var e=this.specs.isPrimary()?this.specs.data.base:2*this.specs.data.base,t=this.geom.faceWithNumSides(e);return[Object(c.d)(this.geom.caps(),(function(e){return Object(G.e)(e.normal(),t.normal())})),t]}}]),n}(re),ue=function(e){Object(T.a)(n,e);var t=Object(P.a)(n);function n(){return Object(F.a)(this,n),t.apply(this,arguments)}return Object(V.a)(n,[{key:"bases",value:function(){var e,t=this,n=this.geom.caps(),a=Object(L.a)(this.geom.caps());try{var r=function(){var a=e.value,r=n.find((function(e){return Object(G.e)(a.normal(),e.normal())}));return r?t.specs.isCupolaRotunda()&&"rotunda"===r.type?{v:[r,a]}:{v:[a,r]}:"continue"};for(a.s();!(e=a.n()).done;){var i=r();switch(i){case"continue":continue;default:if("object"===typeof i)return i.v}}}catch(c){a.e(c)}finally{a.f()}throw new Error("Could not find opposite caps")}}]),n}(re),se=n(573),le=function(e){Object(T.a)(n,e);var t=Object(P.a)(n);function n(){var e;Object(F.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).capInnerVertIndices=Object(se.a)((function(){return new Set(e.caps().flatMap((function(e){return e.innerVertices().map((function(e){return e.index}))})))})),e}return Object(V.a)(n,[{key:"isAugmentedClassical",value:function(){return this.specs.isAugmentedClassical()}},{key:"isAugmentedPrism",value:function(){return this.specs.isAugmentedPrism()}},{key:"isDiminishedSolid",value:function(){return this.specs.isDiminishedSolid()}},{key:"isGyrateSolid",value:function(){return this.specs.isGyrateSolid()}},{key:"sourceVertices",value:function(){var e=this;return this.geom.vertices.filter((function(t){return!e.capInnerVertIndices().has(t.index)}))}},{key:"caps",value:function(){return this.geom.caps()}},{key:"sourceCentroid",value:function(){return Object(G.b)(this.sourceVertices().map((function(e){return e.vec})))}},{key:"isSourceFace",value:function(e){var t=this;return e.vertices.every((function(e){return!t.capInnerVertIndices().has(e.index)}))}},{key:"hasAlignment",value:function(){return this.specs.isMono()}},{key:"alignment",value:function(e){if(this.hasAlignment())return Object(G.e)(e.normal(),Object(c.g)(this.modifications()).normal())?"para":"meta"}}],[{key:"create",value:function(e,t){if(e.isAugmentedPrism())return new fe(e,t);if(e.isAugmentedClassical())return new de(e,t);if(e.isDiminishedSolid())return new pe(e,t);if(e.isGyrateSolid())return new me(e,t);throw new Error("Invalid composite specs: ".concat(e.name()))}},{key:"fromSpecs",value:function(e){return this.create(e,U(e))}},{key:"fromName",value:function(e){var t=Object(l.i)(e);if(!t.isComposite())throw new Error("Invalid specs for name");return this.fromSpecs(t)}}]),n}(S),fe=function(e){Object(T.a)(n,e);var t=Object(P.a)(n);function n(){var e;Object(F.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).baseFaces=Object(se.a)((function(){if(e.specs.sourcePrism().isTriangular()){var t,n=Object(L.a)(e.geom.faces);try{for(n.s();!(t=n.n()).done;){var a,r=t.value,i=Object(L.a)(e.geom.faces);try{for(i.s();!(a=i.n()).done;){var o=a.value;if(Object(G.e)(r.normal(),o.normal()))return[r,o]}}catch(l){i.e(l)}finally{i.f()}}}catch(l){n.e(l)}finally{n.f()}throw new Error("Could not find base faces for ".concat(e.specs.name()))}if(e.specs.sourcePrism().isSquare()){var u=e.geom.faceWithNumSides(4),s=Object(c.d)(e.geom.faces,(function(e){return Object(G.e)(u.normal(),e.normal())}));return[u,s]}return e.geom.faces.filter((function(t){return t.numSides===e.specs.sourcePrism().baseSides()}))})),e}return Object(V.a)(n,[{key:"hasAlignment",value:function(){return Object(C.a)(Object(A.a)(n.prototype),"hasAlignment",this).call(this)&&this.specs.sourcePrism().isSecondary()}},{key:"modifications",value:function(){return this.caps()}},{key:"isBaseFace",value:function(e){return e.inSet(this.baseFaces())}},{key:"isSideFace",value:function(e){return 4===e.numSides}},{key:"canAugment",value:function(e){return!!this.isSideFace(e)&&this.caps().every((function(t){return t.boundary().adjacentFaces().every((function(t){return!t.equals(e)}))}))}}]),n}(le),de=function(e){Object(T.a)(n,e);var t=Object(P.a)(n);function n(){return Object(F.a)(this,n),t.apply(this,arguments)}return Object(V.a)(n,[{key:"hasAlignment",value:function(){return Object(C.a)(Object(A.a)(n.prototype),"hasAlignment",this).call(this)&&this.specs.sourceClassical().isIcosahedral()}},{key:"modifications",value:function(){return this.caps()}},{key:"caps",value:function(){var e=Object(C.a)(Object(A.a)(n.prototype),"caps",this).call(this),t=this.specs.sourceClassical();return t.isTetrahedral()&&t.isRegular()?[e[0]]:e}},{key:"isMainFace",value:function(e){return!!this.isSourceFace(e)&&(!!this.specs.sourceClassical().isRegular()||3!==e.numSides)}},{key:"mainFace",value:function(){var e=this;return Object(c.d)(this.geom.faces,(function(t){return e.isMainFace(t)}))}},{key:"mainFaces",value:function(){var e=this;return this.geom.faces.filter((function(t){return e.isMainFace(t)}))}},{key:"isMinorFace",value:function(e){return this.isSourceFace(e)&&!this.isMainFace(e)}},{key:"minorFace",value:function(){var e=this;return Object(c.d)(this.geom.faces,(function(t){return e.isMinorFace(t)}))}},{key:"minorFaces",value:function(){var e=this;return this.geom.faces.filter((function(t){return e.isMinorFace(t)}))}},{key:"isCapTop",value:function(e){var t=this;return!this.specs.sourceClassical().isRegular()&&e.vertices.every((function(e){return t.capInnerVertIndices().has(e.index)}))}},{key:"capTops",value:function(){var e=this;return this.geom.faces.filter((function(t){return e.isCapTop(t)}))}},{key:"canAugment",value:function(e){return!!this.isMainFace(e)&&this.caps().every((function(t){return t.boundary().adjacentFaces().every((function(t){return!t.equals(e)}))}))}}]),n}(le),pe=function(e){Object(T.a)(n,e);var t=Object(P.a)(n);function n(){return Object(F.a)(this,n),t.apply(this,arguments)}return Object(V.a)(n,[{key:"isDiminishedFace",value:function(e){return this.specs.isDiminished()&&e.numSides===this.geom.largestFace().numSides}},{key:"augmentedCaps",value:function(){return this.specs.isAugmented()?this.caps().filter((function(e){return 3===e.boundary().numSides})):[]}},{key:"diminishedFaces",value:function(){var e=this;return this.geom.faces.filter((function(t){return e.isDiminishedFace(t)}))}},{key:"isAugmentedFace",value:function(e){return!!this.specs.isAugmented()&&e.inSet(this.augmentedCaps()[0].faces())}},{key:"modifications",value:function(){return[].concat(Object(D.a)(this.diminishedFaces()),Object(D.a)(this.augmentedCaps()))}},{key:"canAugment",value:function(e){return!this.specs.isAugmented()&&(this.isDiminishedFace(e)||e.adjacentFaces().every((function(e){return 5===e.numSides})))}}]),n}(le),me=function(e){Object(T.a)(n,e);var t=Object(P.a)(n);function n(){return Object(F.a)(this,n),t.apply(this,arguments)}return Object(V.a)(n,[{key:"isGyrate",value:function(e){return e.boundary().edges.every((function(e){var t=e.adjacentFaces().map((function(e){return e.numSides})),n=Object(E.a)(t,2);return 4===n[0]===(4===n[1])}))}},{key:"gyrateCaps",value:function(){var e=this;return this.geom.caps().filter((function(t){return e.isGyrate(t)}))}},{key:"isDiminishedFace",value:function(e){return this.specs.isDiminished()&&e.numSides===this.geom.largestFace().numSides}},{key:"diminishedFaces",value:function(){var e=this;return this.geom.faces.filter((function(t){return e.isDiminishedFace(t)}))}},{key:"modifications",value:function(){return[].concat(Object(D.a)(this.gyrateCaps()),Object(D.a)(this.diminishedFaces()))}},{key:"canAugment",value:function(e){return this.isDiminishedFace(e)}}]),n}(le);function he(e,t){return e.isClassical()?X.create(e,t):e.isCapstone()?re.create(e,t):e.isComposite()?le.create(e,t):new S(e,t)}var ve={name:"tetrahedron"},be=Object(O.c)({setPolyhedron:function(e){return function(){return e}},setPolyhedronToName:function(e){return function(t){var n=Object(l.i)(e);return t.specs.canonicalName()===n.canonicalName()?he(n,t.geom):he(n,U(n))}}},(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ve,t=e.name,n=Object(l.i)(t);return he(n,U(n))})),ge={operation:void 0,options:void 0},Oe=Object(O.c)({setOperation:function(e,t){return function(){return{operation:e,options:e.defaultOptions(t)}}},unsetOperation:function(){return function(){return ge}},setOption:function(e,t){return function(n){var a=n.operation,r=n.options;return{operation:a,options:Object(p.a)(Object(p.a)({},r),{},{[e]:t})}}}},ge),je=n(132),ye=n(108),ke=n(558);function we(e,t){return e.map((function(e){return new M.Color(t[e])}))}var Ee={solidData:void 0,faceColors:void 0,isTransitioning:!1},xe=Object(O.c)({reset:function(){return function(){return Ee}},set:function(e,t){return function(){return{solidData:e,faceColors:t,isTransitioning:!!e}}}},Ee),Fe=r.a.createContext(je.a);function Se(e){var t=e.children,n=Object(a.useRef)(null),i=be.useActions().setPolyhedron,c=ye.a.useState(),o=c.colors,u=c.animationSpeed,s=c.enableAnimation,l=xe.useActions();Object(a.useEffect)((function(){return function(){n.current&&n.current.cancel()}}),[n]);var f=Object(a.useCallback)((function(e,t){if(!s||!t)return i(e),void l.reset();var a=t.start,r=t.endVertices,c=t.startColors,f=t.endColors,d=we(c,o),m=we(f,o);l.set(a.solidData,d),n.current=function(e,t){var n=e.duration,a=e.ease,r=e.onFinish,i=0,c={};return c.current=requestAnimationFrame((function e(o){i||(i=o);var u=o-i,s=Math.min(u/n,1);t(ke[a](s)),u<n?c.current=requestAnimationFrame(e):null===r||void 0===r||r()})),{cancel(){cancelAnimationFrame(c.current)}}}({duration:1e3/u,ease:"easeQuadInOut",onFinish:function(){i(e),l.reset()}},(function(e){l.set(Object(p.a)(Object(p.a)({},a.solidData),{},{vertices:a.vertices.map((function(t,n){return(new M.Vector3).lerpVectors(t.vec,r[n],e)}))}),function(e){return d.map((function(t,n){return t.clone().lerp(m[n],e)}))}(e))}))}),[l,u,o,s,i]);return r.a.createElement(Fe.Provider,{value:f},t)}var Ce={Provider:function(e){var t=e.children;return r.a.createElement(xe.Provider,null,r.a.createElement(Se,null,t))},useState:xe.useState,useTransition:function(){return Object(a.useContext)(Fe)}};function Ae(){var e=Oe.useActions(),t=e.setOperation,n=e.unsetOperation,r=be.useState(),i=Ce.useTransition();return Object(a.useCallback)((function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=arguments.length>2?arguments[2]:void 0;if(!e)throw new Error("no operation defined");var o=e.apply(r,a),u=o.result,s=o.animationData;e.hasOptions(r)&&e.canApplyTo(u)&&e.hasOptions(u)?t(e,u):n(),i(u,s),null===c||void 0===c||c(u.geom)}),[r,i,t,n])}var De=n(8),Ve=n.n(De),Te=n(282),Pe=n(281);function Me(e){return"left"===e?"right":"left"}function Ge(e,t){return Ve.a.mark((function n(){var a,r,i,c;return Ve.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:a=Object(L.a)(t()),n.prev=1,a.s();case 3:if((r=a.n()).done){n.next=9;break}return c=r.value,n.next=7,{start:c[e],end:c[Me(e)],options:null===(i=c.options)||void 0===i?void 0:i[e]};case 7:n.next=3;break;case 9:n.next=14;break;case 11:n.prev=11,n.t0=n.catch(1),a.e(n.t0);case 14:return n.prev=14,a.f(),n.finish(14);case 17:case"end":return n.stop()}}),n,null,[[1,11,14,17]])}))}function Le(e){return e.geom.vertices}var Ne=function(){function e(t){Object(F.a)(this,e),this.inputs=void 0,this.graph=void 0,this.inputs=t,this.graph=Object(D.a)(this.inputs.graph())}return Object(V.a)(e,[{key:"getEntries",value:function(e,t){return this.graph.filter((function(n){return n[e].equals(t)}))}},{key:"findEntry",value:function(e,t,n){return this.graph.find((function(a){var r,i;return a[e].equals(t)&&Object(Te.a)(null!==(r=null===(i=a.options)||void 0===i?void 0:i[e])&&void 0!==r?r:{},null!==n&&void 0!==n?n:{})}))}},{key:"getEntry",value:function(e,t,n){var a=this.findEntry(e,t,n);if(!a)throw new Error("Could not find ".concat(e," entry with specs: ").concat(t.name(),", opts: ").concat(JSON.stringify(n)));return a}},{key:"hasOptions",value:function(e,t){return this.getEntries(e,t).length>1}},{key:"allOptions",value:Ve.a.mark((function e(t,n){var a,r,i,c,o;return Ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Object(L.a)(this.getEntries(t,n)),e.prev=1,a.s();case 3:if((r=a.n()).done){e.next=9;break}return o=r.value,e.next=7,null!==(i=null===(c=o.options)||void 0===c?void 0:c[t])&&void 0!==i?i:{};case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),a.e(e.t0);case 14:return e.prev=14,a.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,this,[[1,11,14,17]])}))},{key:"canApplyTo",value:function(e,t){return!!this.findEntry(e,t)}},{key:"getOpposite",value:function(e,t,n){return this.getEntry(e,t,n)[Me(e)]}},{key:"apply",value:function(e,t,n){var a,r,i=this.inputs,c=i.middle,o=i.getPose,u=i.toLeft,s=void 0===u?Le:u,f=i.toRight,d=void 0===f?Le:f,p=this.getEntry(e,t.specs,n),m=null!==(a=p.options)&&void 0!==a?a:{left:{},right:{}},h=he(t.specs,t.geom),v=o(e,h,m),b=Me(e),g=p[b],O=U(g),j=_(O,o(b,he(g,O),m),v);if("string"===typeof c)r=c===e?h:he(g,j);else{var y=c(p),k=y instanceof l.e?he(y,U(y)):y,w=_(k.geom,o("middle",k,m),v);r=he(k.specs,w)}var x="left"===e?[s,d]:[d,s],F=Object(E.a)(x,2),S=F[0],C=F[1];return{animationData:{start:r.geom.withVertices(S(r,m,t.specs)),endVertices:C(r,m,g)},result:j}}}]),e}();function ze(e,t){return{apply:(n,a)=>t.apply(e,n,a),graph:Ge(e,t.inputs.graph),toGraphOpts:(e,t)=>t}}function qe(e){var t=new Ne(e);return{left:ze("left",t),right:ze("right",t)}}function Ie(e){function t(t,n){return Object(c.d)(e,(function(e){return Object(D.a)(e.graph()).some((function(a){var r;return a.start.equals(t.specs)&&Object(Te.a)(null!==(r=a.options)&&void 0!==r?r:{},Object(Pe.a)(e.toGraphOpts(t,n)))}))}))}return{graph:Ve.a.mark((function t(){var n,a,r;return Ve.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=Object(L.a)(e),t.prev=1,n.s();case 3:if((a=n.n()).done){t.next=8;break}return r=a.value,t.delegateYield(r.graph(),"t0",6);case 6:t.next=3;break;case 8:t.next=13;break;case 10:t.prev=10,t.t1=t.catch(1),n.e(t.t1);case 13:return t.prev=13,n.f(),t.finish(13);case 16:case"end":return t.stop()}}),t,null,[[1,10,13,16]])})),apply:(e,n)=>t(e,n).apply(e,n),toGraphOpts:(e,n)=>t(e,n).toGraphOpts(e,n)}}var Re=n(285),Be=n(286),He={getHitOption:{},defaultOptions:{}};function We(e){var t,n=function(e){var t=[],n=[];return e.faces.forEach((function(e){!e.inSet(t)&&e.isValid()&&e.adjacentFaces().forEach((function(a){if(a&&a.isValid())return Object(G.i)(e.normal(),a.normal())?(n.push([e,a]),t.push(e),void t.push(a)):void 0}))})),n}(e),a={},r=Object(L.a)(n);try{for(r.s();!(t=r.n()).done;){var i=Object(E.a)(t.value,2),c=i[0],o=i[1],u=c.numSides+o.numSides-2;a[c.index]=u,a[o.index]=u}}catch(s){r.e(s)}finally{r.f()}return e.faces.map((function(e){var t;return null!==(t=a[e.index])&&void 0!==t?t:e.numUniqueSides()}))}function _e(e,t){return e.map((function(e,n){return e>=3?e:t[n]}))}var Ue=function(){function e(t,n){var a;Object(F.a)(this,e),this.name=void 0,this.graph=void 0,this.hitOption=void 0,this.opArgs=void 0,this.name=t,this.opArgs=(a=n,Object(p.a)(Object(p.a)({},Object(Re.a)(He,(function(e,t){var n;return null!==(n=a[t])&&void 0!==n?n:function(){return e}}))),a)),this.graph=Object(D.a)(this.opArgs.graph()),this.hitOption=this.opArgs.hitOption}return Object(V.a)(e,[{key:"apply",value:function(e,t){var n=this.getResult(e,t);return function(e,t){var n=e.result,a=e.animationData,r=a.start,i=a.endVertices,c=r.withVertices(i),o=null!==n&&void 0!==n?n:Y(c),u=We(r),s=We(c);return{result:he(t,o),animationData:{start:r,endVertices:i.map(B.normalizeVertex),startColors:_e(u,s),endColors:_e(s,u)}}}(this.opArgs.apply(e,null!==t&&void 0!==t?t:{}),n)}},{key:"getHitOption",value:function(e,t,n){return this.opArgs.getHitOption(e,t,n)}},{key:"canApplyTo",value:function(e){return this.graph.some((function(t){return t.start.equals(e.specs)}))}},{key:"getEntry",value:function(e,t){var n=this;return Object(c.d)(this.graph,(function(a){var r;return a.start.equals(e.specs)&&Object(Te.a)(null!==(r=a.options)&&void 0!==r?r:{},Object(Pe.a)(n.opArgs.toGraphOpts(e,t)))}))}},{key:"getEntries",value:function(e){return this.graph.filter((function(t){return t.start.equals(e.specs)}))}},{key:"getResult",value:function(e,t){return this.getEntry(e,t).end}},{key:"hasOptions",value:function(e){return this.opArgs.hasOptions?this.opArgs.hasOptions(e.specs):this.getEntries(e).length>1}},{key:"allOptions",value:function(e,t){if(!this.opArgs.allOptions)throw new Error("Operation ".concat(this.name," does not support getting individual options"));return Object(Be.a)(Object(D.a)(this.opArgs.allOptions(e)[t]))}},{key:"allOptionCombos",value:Ve.a.mark((function e(t){var n,a,r;return Ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.opArgs.allOptions){e.next=20;break}n=Object(L.a)(this.getEntries(t)),e.prev=2,n.s();case 4:if((a=n.n()).done){e.next=10;break}return r=a.value,e.next=8,r.options;case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:e.next=21;break;case 20:return e.abrupt("return",Object(c.a)(this.opArgs.allOptions(t)));case 21:case"end":return e.stop()}}),e,this,[[2,12,15,18]])}))},{key:"defaultOptions",value:function(e){return this.opArgs.defaultOptions(e.specs)}},{key:"selectionState",value:function(e,t,n){var a,r;return null===(a=(r=this.opArgs).selectionState)||void 0===a?void 0:a.call(r,e,t,n)}}]),e}();function Je(e,t){return new Ue(e,t)}var Ye=n(21),Qe=Math.PI,Ke=Math.tan;function Xe(e,t,n){var a=e.normalRay(),r=Object(G.a)(t,n,a.origin),i=a.distanceToPoint(t)*Ke(Qe-r);return a.at(i,new M.Vector3)}function Ze(e,t){return Xe(e,t.midpoint(),t.twinFace().centroid())}function $e(e,t){var n=t.left,a=t.right,r=t.middle;function i(i,c){var o="middle"===i?"left":"middle"===c?"right":null;return qe({graph:Ve.a.mark((function e(){var n,a,o,u,s,l,f;return Ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Object(L.a)(Ye.a.allWithOperation(r.operation)),e.prev=1,n.s();case 3:if((a=n.n()).done){e.next=9;break}return f=a.value,e.next=7,{left:f.withOperation(t[i].operation),right:f.withOperation(t[c].operation),options:{left:null===(o=(u=t[i]).options)||void 0===o?void 0:o.call(u,f),right:null===(s=(l=t[c]).options)||void 0===s?void 0:s.call(l,f)}};case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})),middle:null!==o&&void 0!==o?o:function(e){return e.left.withOperation(r.operation)},getPose:function(t,n,a){return e(n,a)},toLeft:"left"===i?n.transformer:void 0,toRight:"right"===c?a.transformer:void 0})}return{truncate:i("left","middle"),cotruncate:i("middle","right"),rectify:i("left","right")}}var et=$e((function(e,t){var n;return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.specs.facet();return{origin:e.geom.centroid(),scale:e.facetFace(t).distanceToCenter(),orientation:e.adjacentFacetFaces(t).map((function(e){return e.normal()}))}}(e,null===t||void 0===t||null===(n=t.right)||void 0===n?void 0:n.facet)}),{left:{operation:"regular",transformer:e=>K(e.minorFacetFaces(),(function(e){return Ze(e,e.edges[0])}))},middle:{operation:"truncate"},right:{operation:"rectify",options:function(e){return{facet:e.facet()}},transformer:e=>K(e.geom.edges.filter((function(t){return t.adjacentFaces().every((function(t){return e.isMainFacetFace(t)}))})),(function(e){return e.midpoint()}))}}),tt=n(577);function nt(e){return Object(tt.a)(l.g.map((function(t){return e.inradius(t)})))/l.g.length}var at=$e((function(e){return{origin:e.geom.centroid(),scale:nt(e),orientation:e.adjacentFacetFaces("face").map((function(e){return e.normal()}))}}),{left:{operation:"rectify",transformer(e,t,n){var a=X.fromSpecs(n),r=nt(a),i=nt(e),c=a.circumradius()/r*i;return K(e.edgeFaces(),(function(t){return e.geom.centroid().clone().addScaledVector(t.normal(),c)}))}},middle:{operation:"bevel"},right:{operation:"cantellate",transformer(e,t,n){var a=X.fromSpecs(n),r=a.edgeFace(),i=r.distanceToCenter(),c=nt(e)/nt(a);return K(e.edgeFaces(),(function(e){var t=e.translateNormal(i*c-e.distanceToCenter()),n=e.withCentroidOrigin(Object(G.g)(r.radius()*c/e.radius()));return t.multiply(n)}))}}}),rt=qe({graph:Ve.a.mark((function e(){var t,n,a;return Ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=Object(L.a)(l.c.query.where((function(e){return e.isAugmentedClassical()&&e.data.source.isClassical()&&e.data.source.isRegular()}))),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=9;break}return a=n.value,e.next=7,{left:a,right:a.withData({source:a.sourceClassical().withOperation("truncate")})};case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t.e(e.t0);case 14:return e.prev=14,t.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})),middle:"right",getPose(e,t){var n,a=t.specs,r=t.caps(),i=t.sourceCentroid(),o=r[0],u=o.boundary();return n=a.isTri()?Object(G.b)([r[1].normal(),r[2].normal()]):a.isBi()&&a.isMeta()?r[1].normal():Object(c.d)(u.edges,(function(e){return t.isMainFace(e.twinFace())})).midpoint().clone().sub(u.centroid()),{origin:i,scale:t.mainFace().centroid().distanceTo(i),orientation:[o.normal(),n]}},toLeft(e){var t=e.minorFaces(),n=e.capTops();return K([].concat(Object(D.a)(t),Object(D.a)(n)),(function(t){if(n.some((function(e){return e.equals(t)}))){var a=t.vertices[0],r=Object(c.d)(a.adjacentFaces(),(function(e){return 3===e.numSides&&!e.equals(t)}));return Xe(t,a.vec,r.centroid())}var i=Object(c.d)(t.edges,(function(t){return e.isMainFace(t.twinFace())}));return Ze(t,i)}))}}),it=new Ue("truncate",Ie([et.truncate.left,at.truncate.left,rt.left])),ct=(new Ue("cotruncate",Ie([et.cotruncate.left,at.cotruncate.left])),new Ue("rectify",Ie([et.rectify.left,at.rectify.left]))),ot={hitOption:"facet",getHitOption(e,t){var n=e.geom.hitFace(t),a=e.getFacet(n);return a?{facet:Object(l.k)(a)}:{}},selectionState(e,t,n){var a=n.facet;return t.isFacetFace(e,Object(l.k)(a))?"selected":"selectable"}},ut=new Ue("sharpen",Object(p.a)(Object(p.a)({},Ie([et.truncate.right,at.truncate.right,rt.right,et.rectify.right,at.rectify.right])),ot));new Ue("cosharpen",Object(p.a)(Object(p.a)({},Ie([et.cotruncate.right,at.cotruncate.right])),ot)),new Ue("unrectify",Object(p.a)(Object(p.a)({},Ie([et.rectify.right,at.rectify.right])),ot));function st(e,t){var n=e.geom;return{origin:n.centroid(),scale:n.edgeLength(),orientation:e.adjacentFacetFaces(t).map((function(e){return e.normal()}))}}function lt(e){return{middle:"right",getPose:(t,n,a)=>st(n,e(a)),toLeft:(t,n,a)=>function(e,t,n){var a=X.fromSpecs(n),r=e.snubAngle(t),i=a.inradius(t)/a.geom.edgeLength(),c=e.geom.edgeLength()*i-e.inradius(t);return K(e.facetFaces(t),(function(e){var t=e.rotateNormal(r),n=e.translateNormal(c);return e.withCentroidOrigin(t.premultiply(n))}))}(t,e(n),a)}}var ft=lt((function(e){return e.right.facet})),dt=qe(Object(p.a)(Object(p.a)({},ft),{},{graph:Ve.a.mark((function e(){var t,n,a;return Ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=Object(L.a)(l.b.allWithOperation("truncate")),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=9;break}return a=n.value,e.next=7,{left:a,right:a.withOperation("bevel"),options:{left:{},right:{facet:a.facet()}}};case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t.e(e.t0);case 14:return e.prev=14,t.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))})),pt=qe(Object(p.a)(Object(p.a)({},ft),{},{graph:Ve.a.mark((function e(){var t,n,a;return Ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=Object(L.a)(l.b.allWithOperation("regular")),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=9;break}return a=n.value,e.next=7,{left:a,right:a.withOperation("cantellate"),options:{left:{},right:{facet:a.facet()}}};case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t.e(e.t0);case 14:return e.prev=14,t.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))})),mt=qe(Object(p.a)(Object(p.a)({},ft),{},{graph:Ve.a.mark((function e(){var t,n,a,r,i,c;return Ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=Object(L.a)(l.b.allWithOperation("regular")),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=24;break}a=n.value,r=Object(L.a)(l.r),e.prev=6,r.s();case 8:if((i=r.n()).done){e.next=14;break}return c=i.value,e.next=12,{left:a,right:a.withOperation("snub",a.isVertex()?Object(l.l)(c):c),options:{left:{twist:c},right:{facet:a.facet()}}};case 12:e.next=8;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(6),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:e.next=3;break;case 24:e.next=29;break;case 26:e.prev=26,e.t1=e.catch(1),t.e(e.t1);case 29:return e.prev=29,t.f(),e.finish(29);case 32:case"end":return e.stop()}}),e,null,[[1,26,29,32],[6,16,19,22]])}))})),ht=qe(Object(p.a)(Object(p.a)({},lt((function(){return"face"}))),{},{graph:Ve.a.mark((function e(){var t,n,a,r,i,c;return Ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=Object(L.a)(l.b.allWithOperation("cantellate")),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=24;break}a=n.value,r=Object(L.a)(l.r),e.prev=6,r.s();case 8:if((i=r.n()).done){e.next=14;break}return c=i.value,e.next=12,{left:a,right:a.withOperation("snub",c),options:{left:{twist:c},right:{}}};case 12:e.next=8;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(6),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:e.next=3;break;case 24:e.next=29;break;case 26:e.prev=26,e.t1=e.catch(1),t.e(e.t1);case 29:return e.prev=29,t.f(),e.finish(29);case 32:case"end":return e.stop()}}),e,null,[[1,26,29,32],[6,16,19,22]])}))}));function vt(e){return e.edgeFace().distanceToCenter()}function bt(e,t){var n=X.fromSpecs(t),a=vt(e)/n.midradius()*n.circumradius();return K(e.facetFaces(Object(l.k)(t.facet())),(function(t){return e.geom.centroid().clone().addScaledVector(t.normal(),a)}))}var gt=qe({graph:Ve.a.mark((function e(){var t,n,a;return Ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=Object(L.a)(l.b.query.where((function(e){return e.isRegular()&&!e.isVertex()}))),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=9;break}return a=n.value,e.next=7,{left:a,right:a.withData({facet:"vertex"})};case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t.e(e.t0);case 14:return e.prev=14,t.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})),middle:function(e){return e.left.withOperation("cantellate")},getPose(e,t){var n=t.geom;switch(e){case"left":return Object(p.a)(Object(p.a)({},st(t,"face")),{},{scale:t.midradius()});case"right":var a=n.getVertex(),r=a.adjacentVertices()[0];return{origin:n.centroid(),scale:t.midradius(),orientation:[a.normal(),r.normal()]};case"middle":return Object(p.a)(Object(p.a)({},st(t,"face")),{},{scale:vt(t)})}},toLeft:function(e,t,n){return bt(e,n)},toRight:function(e,t,n){return bt(e,n)}}),Ot=new Ue("dual",Ie([gt.left,gt.right])),jt=new Ue("expand",Ie([dt.left,pt.left])),yt=Je("snub",mt.left),kt=Je("twist",Ie([ht.left,ht.right])),wt=Je("contract",Object(p.a)(Object(p.a)({},Ie([pt,mt,dt].map((function(e){return e.right})))),{},{hitOption:"facet",getHitOption(e,t){var n=e.geom.hitFace(t),a=e.getFacet(n);return a?{facet:a}:{}},selectionState(e,t,n){var a=n.facet;return a&&t.isFacetFace(e,a)?"selected":t.isAnyFacetFace(e)?"selectable":void 0}})),Et=Math.PI;function xt(e){switch(e){case"left":return 1;case"right":return-1;default:return 0}}function Ft(e,t){var n=e.baseBoundaries(),a=Object(E.a)(n,2),r=a[0],i=a[1],o=e.specs.isPrismatic()?r.edges[0]:Object(c.d)(r.edges,(function(e){return 3===e.face.numSides})),u=r.numSides,s=(e.specs.isGyroelongated()?1:0)*xt(t)*(Et/u/2);return{origin:Object(G.b)([r.centroid(),i.centroid()]),scale:e.geom.edgeLength(),orientation:[r.normal(),o.midpoint().clone().sub(r.centroid()).applyAxisAngle(r.normal(),s)]}}function St(e,t,n){var a=re.fromSpecs(t),r=a.prismaticHeight()/a.geom.edgeLength()*e.geom.edgeLength()-e.prismaticHeight();return function(e,t,n){var a=e.bases(),r=xt(n)*Et/e.specs.baseSides();return K(a,(function(e){var n=e.rotateNormal(r/2),a=e.translateNormal(t/2);return e.withCentroidOrigin(n.premultiply(a))}))}(e,r,n)}function Ct(e){var t=e.query,n=e.rightElongation,a=void 0===n?"antiprism":n,r="prism"===a?void 0:"left";return function(e){return qe({graph:Ve.a.mark((function n(){var r,i,c;return Ve.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r=Object(L.a)(l.a.query.where((function(e){return t(e)&&!e.isPrismatic()&&e.data.elongation===a}))),n.prev=1,r.s();case 3:if((i=r.n()).done){n.next=9;break}return c=i.value,n.next=7,{left:c.withElongation(e),right:c};case 7:n.next=3;break;case 9:n.next=14;break;case 11:n.prev=11,n.t0=n.catch(1),r.e(n.t0);case 14:return n.prev=14,r.f(),n.finish(14);case 17:case"end":return n.stop()}}),n,null,[[1,11,14,17]])})),middle:"right",getPose:(e,t)=>Ft(t,r),toLeft:(e,t,n)=>St(e,n,r)})}}var At=qe({graph:Ve.a.mark((function e(){var t,n,a;return Ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=Object(L.a)(l.a.query.where((function(e){return e.isPrism()&&!e.isDigonal()}))),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=9;break}return a=n.value,e.next=7,{left:a,right:a.withElongation("antiprism")};case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t.e(e.t0);case 14:return e.prev=14,t.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})),middle:"right",getPose:(e,t)=>Ft(t,"left"),toLeft:function(e,t,n){return St(e,n,"left")}}),Dt=Ct({query:function(e){return!e.isDigonal()},rightElongation:"prism"})("none"),Vt=function(e){return e.isSecondary()&&!e.isDigonal()},Tt=Ct({query:function(e){return function(e){return e.isPrimary()&&!e.isTriangular()}(e)}}),Pt=Tt("none"),Mt=Tt("prism"),Gt=Ct({query:function(e){return Vt(e)&&e.isMono()}}),Lt=Gt("none"),Nt=Gt("prism");function zt(e){return qe({graph:Ve.a.mark((function t(){var n,a,r,i,c,o;return Ve.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=Object(L.a)(l.a.query.where((function(t){return Vt(t)&&t.isBi()&&t.data.elongation===e}))),t.prev=1,n.s();case 3:if((a=n.n()).done){t.next=24;break}r=a.value,i=Object(L.a)(l.r),t.prev=6,i.s();case 8:if((c=i.n()).done){t.next=14;break}return o=c.value,t.next=12,{left:r,right:r.withElongation("antiprism",r.isGyro()?o:Object(l.l)(o)),options:{left:{twist:o},right:{twist:Object(l.l)(o)}}};case 12:t.next=8;break;case 14:t.next=19;break;case 16:t.prev=16,t.t0=t.catch(6),i.e(t.t0);case 19:return t.prev=19,i.f(),t.finish(19);case 22:t.next=3;break;case 24:t.next=29;break;case 26:t.prev=26,t.t1=t.catch(1),n.e(t.t1);case 29:return t.prev=29,n.f(),t.finish(29);case 32:case"end":return t.stop()}}),t,null,[[1,26,29,32],[6,16,19,22]])})),middle:"right",getPose:(e,t,n)=>Ft(t,n.right.twist),toLeft:function(e,t,n){return St(e,n,t.right.twist)}})}var qt=zt("none"),It=zt("prism"),Rt=Je("elongate",Dt.left),Bt=Je("gyroelongate",Ie([Pt,Lt,qt].map((function(e){return e.left})))),Ht=Je("shorten",Ie([Dt,Pt,Lt,qt].map((function(e){return e.right})))),Wt=Je("turn",Ie([At,Mt,Nt,It].flatMap((function(e){return[e.left,e.right]})))),_t=n(47),Ut=n(284);function Jt(e,t){return{origin:e.centroid(),scale:e.sideLength(),orientation:[e.normal(),Object(c.d)(e.edges,t).midpoint().clone().sub(e.centroid())]}}function Yt(e){return!0}function Qt(e){return e<=5?"pyramid":"cupola"}function Kt(e,t){return re.fromSpecs(l.a.query.where((function(n){return n.isMono()&&n.isShortened()&&n.data.base===t&&e===n.capType()}))[0])}function Xt(e){switch(e){case"pyramid":return function(){return!0};case"cupola":return function(e){return 4===e.face.numSides};case"rotunda":return function(e){return 3===e.face.numSides}}}function Zt(e,t){return e instanceof re?e.baseFaces().some((function(e){return e.equals(t)})):e instanceof le?e.canAugment(t):4===t.numSides}function $t(e){return function(e){return!!e.isCapstone()&&(e.isSecondary()&&e.isPentagonal())}(e)?["cupola","rotunda"]:null}function en(e){return e.isCapstone()?!!e.isMono()&&(!e.isGyroelongated()&&!(e.isDigonal()||!e.isSecondary())):!!e.isComposite()&&e.isGyrateSolid()}function tn(){return{}}function nn(e){var t,n;return{augment:{graph:Ge("left",e.graph),toGraphOpts:null!==(t=e.toAugGraphOpts)&&void 0!==t?t:tn,apply(t,n){var a,r=n.using,i=n.face,o=null===(a=e.baseAxis)||void 0===a?void 0:a.call(e,t,n);return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Yt,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Qt(t.numSides),r=t.numSides,i=["cupola","rotunda"].includes(a)?r/2:r,o=Kt(a,i),u=o.baseBoundaries(),s=Object(E.a)(u,2),l=s[0],f=s[1],d=Jt(l,Xt(a)),p=Jt(t,n),m=_(o.geom,d,p).withoutFaces([f]),h=o.geom.withVertices(Object(c.i)(t.centroid(),o.geom.numVertices())),v=e.addPolyhedron(m);return{animationData:{start:e.addPolyhedron(h),endVertices:v.vertices},result:Y(v.withoutFaces([t]))}}(t.geom,i,o,r)}},diminish:{graph:Ge("right",e.graph),toGraphOpts:null!==(n=e.toDimGraphOpts)&&void 0!==n?n:tn,apply:function(e,t){return function(e,t){var n=t.boundary(),a=Object(c.h)(n.vertices,(function(e,t){return[e.index,t]})),r=e.withChanges((function(r){return r.addVertices(n.vertices).mapFaces((function(r){return r.inSet(t.faces())?r:r.vertices.map((function(t){return t.inSet(n.vertices)?e.numVertices()+a[t.index]:t.index}))})).addFaces([Object(Ut.a)(e.numVertices(),e.numVertices()+n.numSides)])}));return{animationData:{start:r,endVertices:K([t],(function(){return n.centroid()}),r.vertices)},result:J(e.withChanges((function(e){return e.withoutFaces(t.faces()).addFaces([t.boundary().vertices])})))}}(e.geom,t.cap)}}}}function an(e){return e instanceof re?e.baseCaps():e.geom.caps()}var rn={hasOptions:()=>!0,allOptions:e=>({cap:an(e)}),hitOption:"cap",getHitOption(e,t){var n=e.geom,a=B.Cap.find(n,t);return a?{cap:a}:{}},selectionState(e,t,n){var a=n.cap,r=an(t).flatMap((function(e){return e.faces()}));return a instanceof B.Cap&&e.inSet(a.faces())?"selected":e.inSet(r)?"selectable":void 0}},cn={hasOptions:()=>!0,hitOption:"face",getHitOption(e,t,n){if(!n)return{};var a=e.geom.hitFace(t);return Zt(e,a)?{face:a}:{}},selectionState(e,t,n){var a=n.face;return a&&e.equals(a)?"selected":Zt(t,e)?"selectable":void 0},allOptions(e){var t,n=e.specs,a=e.geom;return{gyrate:en(n)?l.j:[void 0],using:null!==(t=$t(n))&&void 0!==t?t:[void 0],face:a.faces.filter((function(t){return Zt(e,t)}))}},defaultOptions(e){var t,n=null!==(t=$t(e))&&void 0!==t?t:[];return Object(Pe.a)({gyrate:en(e)&&"gyro",using:n.length>1&&n[0]})}},on=nn({graph:Ve.a.mark((function e(){var t,n,a,r,i,c;return Ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=Object(L.a)(l.a.query.where((function(e){return!e.isSnub()&&!e.isPrismatic()&&(e.isBi()||!e.isShortened())}))),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=24;break}a=n.value,r=Object(L.a)(a.capTypes()),e.prev=6,r.s();case 8:if((i=r.n()).done){e.next=14;break}return c=i.value,e.next=12,{left:a.remove(c),right:a,options:{left:{gyrate:a.data.gyrate,using:c},right:{using:c}}};case 12:e.next=8;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(6),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:e.next=3;break;case 24:e.next=29;break;case 26:e.prev=26,e.t1=e.catch(1),t.e(e.t1);case 29:return e.prev=29,t.f(),e.finish(29);case 32:case"end":return e.stop()}}),e,null,[[1,26,29,32],[6,16,19,22]])})),toAugGraphOpts(e,t){t.face;return Object(_t.a)(t,["face"])},toDimGraphOpts(e,t){var n=t.cap;return e.specs.isCupolaRotunda()?{using:n.type}:{}},baseAxis(e,t){var n=t.gyrate,a=e.specs;if(!(a.isPrismatic()||a.isPrimary()||a.isGyroelongated())){var r=Xt(e.baseCaps()[0].type);return function(e){return e=e.twin(),a.isShortened()||(e=e.next().next().twin()),"ortho"===n?r(e):!r(e)}}}}),un=nn({graph:Ve.a.mark((function e(){var t,n,a;return Ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=Object(L.a)(l.c.query.where((function(e){return e.isAugmentedSolid()&&e.isAugmented()}))),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=9;break}return a=n.value,e.next=7,{left:a.diminish(),right:a,options:{left:{align:a.data.align},right:{}}};case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t.e(e.t0);case 14:return e.prev=14,t.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})),toAugGraphOpts(e,t){var n=t.face;return{align:e.alignment(n)}},baseAxis(e){var t=e.specs.data.source;if(t.isClassical()&&t.isTruncated())return function(e){return 3===e.twinFace().numSides}}}),sn=nn({graph:Ve.a.mark((function e(){var t,n,a,r,i,c,o;return Ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=Object(L.a)(l.c.query.where((function(e){return e.isDiminishedSolid()&&e.isDiminished()&&!e.isAugmented()}))),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=16;break}a=n.value,r=a.isTri()?[3,5]:[5],i=0,c=r;case 7:if(!(i<c.length)){e.next=14;break}return o=c[i],e.next=11,{left:a,right:a.augmentDiminished(3===o),options:{left:{faceType:o},right:{align:a.data.align}}};case 11:i++,e.next=7;break;case 14:e.next=3;break;case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(1),t.e(e.t0);case 21:return e.prev=21,t.f(),e.finish(21);case 24:case"end":return e.stop()}}),e,null,[[1,18,21,24]])})),toAugGraphOpts:(e,t)=>({faceType:t.face.numSides}),toDimGraphOpts(e,t){var n=t.cap;return{align:e.alignment(n)}}}),ln=nn({graph:Ve.a.mark((function e(){var t,n,a,r,i,c;return Ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=Object(L.a)(l.c.query.where((function(e){return e.isGyrateSolid()&&e.isDiminished()}))),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=24;break}a=n.value,r=Object(L.a)(l.j),e.prev=6,r.s();case 8:if((i=r.n()).done){e.next=14;break}return c=i.value,e.next=12,{left:a,right:a.augmentGyrate(c),options:{left:{gyrate:c},right:{gyrate:c,align:a.data.align}}};case 12:e.next=8;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(6),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:e.next=3;break;case 24:e.next=29;break;case 26:e.prev=26,e.t1=e.catch(1),t.e(e.t1);case 29:return e.prev=29,t.f(),e.finish(29);case 32:case"end":return e.stop()}}),e,null,[[1,26,29,32],[6,16,19,22]])})),toAugGraphOpts(e,t){t.face;return{gyrate:Object(_t.a)(t,["face"]).gyrate}},toDimGraphOpts(e,t){var n=t.cap;return e.isGyrate(n)?{gyrate:"ortho"}:{gyrate:"gyro",align:e.alignment(n)}},baseAxis(e,t){var n=t.gyrate;return function(e){return e.twinFace().numSides===("ortho"===n?4:5)}}}),fn=nn({graph:Ve.a.mark((function e(){return Ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,{left:l.d.query.withName("sphenocorona"),right:l.d.query.withName("augmented sphenocorona")};case 2:case"end":return e.stop()}}),e)}))}),dn=2*Math.PI;function pn(e){var t=e.graph,n=e.toGraphOpts;return{graph:function(e){var t=Ve.a.mark(n);function n(){var n=arguments;return Ve.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.delegateYield(e.apply(this,n),"t0",1);case 1:return t.abrupt("return",t.t0);case 2:case"end":return t.stop()}}),t,this)}return n.toString=function(){return e.toString()},n}(Ve.a.mark((function e(){return Ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(Ge("left",t)(),"t0",1);case 1:return e.delegateYield(Ge("right",t)(),"t1",2);case 2:case"end":return e.stop()}}),e)}))),toGraphOpts:n,apply:(e,t)=>function(e,t){var n=t.cap,a=n.boundary(),r=dn/a.numSides,i=Object(c.h)(a.vertices,(function(e,t){return[e.index,t]})),o=e.withChanges((function(t){return t.addVertices(a.vertices).mapFaces((function(t){return t.inSet(n.faces())?t:t.vertices.map((function(t){return t.inSet(a.vertices)?e.numVertices()+i[t.index]:t.index}))}))}));return{animationData:{start:o,endVertices:K([n],(function(e){return e.withCentroidOrigin(e.rotateNormal(r))}),o.vertices)}}}(e.geom,t)}}var mn=pn({graph:Ve.a.mark((function e(){var t,n,a;return Ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=Object(L.a)(l.a.query.where((function(e){return e.hasGyrate()&&e.isOrtho()&&!e.isDigonal()||e.isChiral()}))),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=9;break}return a=n.value,e.next=7,{left:a,right:a.gyrate()};case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t.e(e.t0);case 14:return e.prev=14,t.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})),toGraphOpts:()=>({})}),hn=pn({graph:Ve.a.mark((function e(){var t,n,a;return Ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=Object(L.a)(l.c.query.where((function(e){return e.isGyrateSolid()&&e.isGyrate()}))),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=9;break}return a=n.value,e.next=7,{left:a.ungyrate(),right:a,options:{left:{direction:"forward",align:a.data.align},right:{direction:"back"}}};case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t.e(e.t0);case 14:return e.prev=14,t.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})),toGraphOpts(e,t){var n=t.cap;return e.isGyrate(n)?{direction:"back"}:{direction:"forward",align:e.alignment(n)}}}),vn=Je("gyrate",Object(p.a)(Object(p.a)({},Ie([mn,hn])),rn)),bn=[on,un,sn,ln,fn],gn={dual:Ot,truncate:it,sharpen:ut,rectify:ct,expand:jt,snub:yt,contract:wt,twist:kt,elongate:Rt,gyroelongate:Bt,shorten:Ht,turn:Wt,augment:Je("augment",Object(p.a)(Object(p.a)({},Ie(bn.map((function(e){return e.augment})))),cn)),diminish:Je("diminish",Object(p.a)(Object(p.a)({},Ie(bn.map((function(e){return e.diminish})))),rn)),gyrate:vn},On=n(95),jn=Math.PI,yn=Math.sin,kn=Math.cos,wn=2*jn;function En(e){return e.map((function(e){return e.join(",")})).join(" ")}function xn(e){var t=e.points,n=Object(_t.a)(e,["points"]);return r.a.createElement("polygon",Object.assign({},n,{points:En(t)}))}function Fn(e){var t=e.points,n=Object(_t.a)(e,["points"]);return r.a.createElement("polyline",Object.assign({},n,{points:En(t)}))}function Sn(e){var t=e.n,n=void 0===t?3:t,a=e.r,r=void 0===a?1:a,i=e.cx,c=void 0===i?0:i,o=e.cy,u=void 0===o?0:o,s=e.a,l=void 0===s?0:s;return Object(Ut.a)(n).map((function(e){return[c+r*kn(wn*(l/360+e/n)),u+r*yn(wn*(l/360+e/n))]}))}function Cn(e){var t=e.n,n=void 0===t?3:t,a=e.r,i=void 0===a?1:a,c=e.cx,o=void 0===c?0:c,u=e.cy,s=void 0===u?0:u,l=e.a,f=void 0===l?0:l,d=Object(_t.a)(e,["n","r","cx","cy","a"]),p=Sn({n:n,r:i,cx:o,cy:s,a:f});return r.a.createElement(xn,Object.assign({},d,{points:p}))}var An=Math.sqrt;var Dn=function(e){var t=On.StyleSheet.create(e);return function(){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return On.css.apply(void 0,Object(D.a)(n.map((function(e){return!!e&&t[e]}))))}}({operationIcon:Object(v.o)(h.c.size[3]),invariant:{fill:"DimGray",stroke:"DimGray",strokeWidth:5,strokeLinejoin:"round"},subtracted:{fill:"none",stroke:"DimGray",strokeWidth:5,strokeDasharray:10},added:{fill:"none",stroke:"DimGray",strokeWidth:5,strokeLinejoin:"round"},changed:{fill:"none",stroke:"DimGray",strokeWidth:5}});function Vn(e){var t=e.styled,n=e.innerSides,a=void 0===n?6:n,i=e.innerScale,c=void 0===i?1/An(3):i,o=e.innerAngle,u=void 0===o?0:o,s={cx:100,cy:120};return r.a.createElement(r.a.Fragment,null,r.a.createElement(Cn,Object.assign({className:Dn(t),n:3,r:100,a:-90},s)),r.a.createElement(Cn,Object.assign({className:Dn("invariant"),n:a,r:100*c,a:u},s)))}function Tn(){var e={cx:100,cy:100};return r.a.createElement(r.a.Fragment,null,r.a.createElement(Cn,Object.assign({className:Dn("subtracted"),n:3,r:75,a:-90},e)),r.a.createElement(Cn,Object.assign({className:Dn("added"),n:3,r:75,a:90},e)),r.a.createElement(Cn,Object.assign({className:Dn("invariant"),n:6,r:75/An(3),a:0},e)))}function Pn(e){var t=e.styled,n=e.render,a=void 0===n?function(){return null}:n,i=e.hollow,c=void 0!==i&&i,o=e.innerAngle,u=void 0===o?0:o,s=80*An(3)/2,l=80/An(3),f=l/2;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Cn,{className:Dn(t),n:6,r:80,a:0,cx:100,cy:100}),r.a.createElement(Cn,{className:Dn(c?t:"invariant"),n:3,r:l,a:u,cx:100,cy:100}),r.a.createElement(a,{cx:100,cy:100,r:80,ap:s,r1:l,ap1:f}))}function Mn(e){var t=e.styled,n=e.render,a=void 0===n?function(){return null}:n,i=e.innerStyle,c=void 0===i?t:i,o=e.hollow,u=void 0!==o&&o;return r.a.createElement(Pn,{styled:t,innerAngle:-90,hollow:u,render:function(e){var t=e.cx,n=e.cy,i=e.r,o=e.ap,u=e.r1,s=e.ap1;return r.a.createElement(r.a.Fragment,null,Object(Ut.a)(3).map((function(e){return r.a.createElement(Fn,{key:e,className:Dn(c),transform:"rotate(".concat(120*e," ").concat(t," ").concat(n,")"),points:[[t-i/2,n-o],[t,n-u],[t+i/2,n-o]]})})),r.a.createElement(a,{cx:t,cy:n,r:i,ap:o,r1:u,ap1:s}))}})}function Gn(e){var t=e.styled,n=e.render,a=100,i=100,c=80,o=An(3)*c/2;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Cn,{className:Dn(t),n:6,r:c,a:90,cx:a,cy:i}),r.a.createElement(Fn,{className:Dn("invariant"),points:[[a-o,60],[a,20],[a+o,60]]}),r.a.createElement(Fn,{className:Dn("invariant"),points:[[a-o,140],[a,180],[a+o,140]]}),n?r.a.createElement(n,{cx:a,cy:i,r:c,ap:o}):r.a.createElement("rect",{className:Dn(t),x:60,y:55,width:c,height:90}))}function Ln(e){var t=e.styled,n=80,a=An(3)*n/2;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Cn,{className:Dn(t),n:6,r:n,a:90,cx:100,cy:100}),r.a.createElement(Fn,{className:Dn("invariant"),points:[[100-a,60],[100-a,140],[100,180],[100+a,140],[100+a,60]]}))}var Nn=Object(a.memo)((function(e){var t=e.name;return r.a.createElement("svg",{viewBox:"0 0 200 200",className:Dn("operationIcon")},function(e){switch(e){case"truncate":return r.a.createElement(Vn,{styled:"subtracted"});case"rectify":return r.a.createElement(Vn,{styled:"subtracted",innerSides:3,innerScale:.5,innerAngle:90});case"sharpen":return r.a.createElement(Vn,{styled:"added"});case"dual":return r.a.createElement(Tn,null);case"expand":return r.a.createElement(Mn,{styled:"added"});case"snub":return r.a.createElement(Pn,{styled:"added",hollow:!1,innerAngle:0,render:function(e){var t=e.cx,n=e.cy,a=e.r,i=e.ap,c=e.ap1;return r.a.createElement(r.a.Fragment,null,Object(Ut.a)(3).map((function(e){return r.a.createElement(Fn,{key:e,className:Dn("added"),transform:"rotate(".concat(120*e," ").concat(t," ").concat(n,")"),points:[[t-c,n-a/2],[t-a,n],[t-c,n+a/2],[t-a/2,n+i]]})})))}});case"contract":return r.a.createElement(Mn,{styled:"subtracted"});case"twist":return r.a.createElement(Mn,{styled:"changed",innerStyle:"invariant",render:function(e){var t=e.cx,n=e.cy,a=e.r,i=e.ap,c=e.ap1;return r.a.createElement(r.a.Fragment,null,Object(Ut.a)(3).map((function(e){return r.a.createElement(Fn,{key:e,className:Dn("changed"),transform:"rotate(".concat(120*e," ").concat(t," ").concat(n,")"),points:[[t-a/2,n+c],[t+a/2,n+i]]})})))}});case"elongate":return r.a.createElement(Gn,{styled:"added"});case"gyroelongate":return r.a.createElement(Gn,{styled:"added",render:function(e){var t=e.cx,n=e.cy,a=e.r,i=e.ap;return r.a.createElement(Fn,{className:Dn("added"),points:[[t-i,n-a/2],[t-a/2,n+a/2],[t,n-a/2],[t+a/2,n+a/2],[t+i,n-a/2]]})}});case"shorten":return r.a.createElement(Gn,{styled:"subtracted"});case"turn":return r.a.createElement(Gn,{styled:"added",render:function(e){var t=e.cx,n=e.cy,a=e.r,i=e.ap;return r.a.createElement(Fn,{className:Dn("added"),points:[[t-i,n-a/2],[t-a/2,n+a/2],[t-a/2,n-a/2],[t+a/2,n+a/2],[t+a/2,n-a/2],[t+i,n+a/2]]})}});case"augment":return r.a.createElement(Ln,{styled:"added"});case"diminish":return r.a.createElement(Ln,{styled:"subtracted"});case"gyrate":return r.a.createElement(r.a.Fragment,null,r.a.createElement(Mn,{styled:"subtracted",hollow:!0}),r.a.createElement("g",{transform:"rotate(180 100 100)"},r.a.createElement(Mn,{styled:"added",hollow:!0})));default:throw new Error("Unknown operation: ".concat(e))}}(t))})),zn=[["truncate","rectify","sharpen","dual"],["expand","snub","contract","twist"],["elongate","gyroelongate","shorten","turn"],["augment","augment","diminish","gyrate"]],qn=Object(R.a)(zn.flat()),In=Object(a.memo)((function(e){var t=e.name,n=e.disabled,a=be.useState(),i=Oe.useState().operation,c=Oe.useActions(),o=c.setOperation,u=c.unsetOperation,s=Ae(),l=gn[t],f=!!i&&t===i.name,d=Object(h.d)(Object(p.a)(Object(p.a)(Object(p.a)(Object(p.a)({},Object(v.d)("center","center")),v.f),Object(v.o)("5rem")),{},{border:f?"2px DarkSlateGray solid":"1px LightGray solid",fontFamily:h.a.verdana,fontSize:h.c.font[7],color:"DimGray",backgroundColor:"white",":disabled":{opacity:.3},[h.b.mobile]:{":not(:last-child)":{marginRight:h.c.spacing[2]}}}),[f]);return r.a.createElement("button",Object.assign({},d(),{style:{gridArea:t},onClick:function(){if(f)return u();l.hasOptions(a)?o(l,a):s(l)},disabled:!l.canApplyTo(a)||n}),r.a.createElement(Nn,{name:t}),t)})),Rn=zn.map((function(e){return'"'.concat(e.join(" "),'"')})).join("\n");function Bn(){var e=Oe.useActions().unsetOperation,t=Ce.useState().isTransitioning;r.a.useEffect((function(){return function(){e()}}),[e]);var n=Object(h.d)({[h.b.notMobile]:{display:"grid",justifyContent:"space-between",gridColumnGap:h.c.spacing[1],gridRowGap:h.c.spacing[2],gridTemplateAreas:Rn},[h.b.mobile]:Object(p.a)(Object(p.a)(Object(p.a)({},Object(v.e)()),Object(v.n)("x")),{},{width:"100%"})});return r.a.createElement("div",n(),qn.map((function(e){return r.a.createElement(In,{key:e,name:e,disabled:t})})))}var Hn=n(105);function Wn(e){var t=Object(h.d)(Object(p.a)(Object(p.a)({},v.f),{},{alignSelf:"flex-end",backgroundColor:"white",border:"1px LightGray solid",padding:h.c.spacing[2],fontSize:h.c.font[6],fontFamily:Hn.andaleMono}));return r.a.createElement("button",Object.assign({},e,t()))}var _n=[{name:"Recenter",handler:function(e){return e.center()}},{name:"Resize",handler:function(e){return e.normalizeToVolume(5)}}];function Un(){var e=be.useState(),t=be.useActions().setPolyhedron,n=Ce.useState().isTransitioning,a=Object(h.d)({display:"grid",gridTemplateColumns:"1fr 1fr",columnGap:h.c.spacing[2]});return r.a.createElement("div",a(),_n.map((function(a){var i=a.name,c=a.handler;return r.a.createElement(Wn,{key:i,disabled:n,onClick:function(){return t(he(e.specs,c(e.geom)))}},i)})))}var Jn=n(104),Yn=n.n(Jn),Qn=n(102);function Kn(e){var t=e.orientation,n=Ce.useState().isTransitioning,i=Oe.useState().operation,c=Ae(),o=Object(a.useCallback)((function(){return c(i,{twist:t})}),[t,i,c]),u=Object(h.d)(Object(p.a)(Object(p.a)(Object(p.a)(Object(p.a)({},Object(v.d)("center","center")),Object(v.o)(h.c.size[3])),v.f),{},{border:"1px LightGray solid",pointerEvents:"initial",background:"none"}));return r.a.createElement("button",Object.assign({},u(),{disabled:n,onClick:o}),r.a.createElement(Yn.a,{path:"left"===t?Qn.m:Qn.n,rotate:180,size:h.c.size[3]}),r.a.createElement(O.b,null,t))}function Xn(){var e=Object(h.d)(Object(p.a)(Object(p.a)({},Object(v.e)("center","space-between")),{},{width:"100%",height:"100%"}));return r.a.createElement("div",e(),r.a.createElement(Kn,{orientation:"left"}),r.a.createElement(Kn,{orientation:"right"}))}var Zn=n(564);function $n(e){var t=e.name,n=Object(h.d)({stroke:"DimGray",fill:"none",strokeWidth:5,strokeLinejoin:"round"}),a=Object(h.d)({stroke:"DimGray",fill:"none",strokeWidth:8,strokeLinejoin:"round"});switch(t){case"ortho":return r.a.createElement(r.a.Fragment,null,r.a.createElement(Cn,Object.assign({},a(),{n:5,cx:100,cy:100,a:90,r:100})),r.a.createElement(Cn,Object.assign({},n(),{n:5,cx:100,cy:100,a:90,r:66})));case"gyro":return r.a.createElement(r.a.Fragment,null,r.a.createElement(Cn,Object.assign({},a(),{n:5,cx:100,cy:100,a:90,r:100})),r.a.createElement(Cn,Object.assign({},n(),{n:5,cx:100,cy:100,a:-90,r:66})));case"cupola":return r.a.createElement(r.a.Fragment,null,r.a.createElement(xn,Object.assign({},a(),{points:[[150,50],[50,50],[10,150],[190,150]]})),r.a.createElement(Fn,Object.assign({},n(),{points:[[50,50],[50,150],[150,150],[150,50]]})));case"rotunda":var i=Object(Zn.a)(Sn({n:12,cx:100,cy:150,r:-90}),7),c=Object(E.a)(i,6),o=c[0],u=c[1],s=c[2],l=c[3],f=c[4],d=c[5],p=o[1],m=[s[0],u[1]],v=[f[0],d[1]];return r.a.createElement(r.a.Fragment,null,r.a.createElement(xn,Object.assign({},a(),{points:i})),r.a.createElement(xn,Object.assign({},n(),{points:[[70,p],m,l,v,[130,p]]})),r.a.createElement(Fn,Object.assign({},n(),{points:[s,m,[40,p],[160,p],v,f]})));default:throw new Error("unknown icon type")}}var ea=Object(a.memo)((function(e){var t=e.name,n=Object(h.d)(Object(v.o)(h.c.size[2]));return r.a.createElement("svg",Object.assign({viewBox:"0 0 200 200"},n()),r.a.createElement($n,{name:t}))}));function ta(e){var t=e.optValue,n=e.selected,a=Object(_t.a)(e,["optValue","selected"]),i=Object(h.d)(Object(p.a)(Object(p.a)(Object(p.a)({},v.f),Object(v.o)(h.c.size[3])),{},{border:n?"2px DarkSlateGray solid":"1px LightGray solid",backgroundColor:"white",fontFamily:Hn.verdana}),[n]);return r.a.createElement("button",Object.assign({},a,i()),r.a.createElement(ea,{name:t}),t)}function na(){var e=be.useState(),t=Oe.useState(),n=t.operation,a=t.options,i=Oe.useActions().setOption,c=Object(h.d)(Object(p.a)(Object(p.a)({},Object(v.e)("center","space-between")),{},{width:"100%",height:"100%"})),o=Object(h.d)(Object(p.a)(Object(p.a)({},Object(v.d)()),{},{pointerEvents:"initial"}));return r.a.createElement("div",c(),["gyrate","using"].map((function(t){var c=a[t];return r.a.createElement("div",Object.assign({key:t},o()),null===n||void 0===n?void 0:n.allOptions(e,t).map((function(e){return r.a.createElement(ta,{key:e,optValue:e,onClick:function(){return i(t,e)},disabled:!c,selected:c===e})})))})))}function aa(){var e,t=Oe.useState().operation;return t?"augment"===t.name?r.a.createElement(na,null):(e=t.name,["snub","twist","gyroelongate","shorten","turn"].includes(e)?r.a.createElement(Xn,null):null):null}var ra=n(578),ia=n(329),ca=n(540),oa=n(311),ua=n(572);function sa(e,t){return Object(ua.a)(e,t).flatMap((function(e){var t=Object(E.a)(e,2);return function(e,t){var n=Object(oa.a)(e),a=n[0],r=n.slice(1);return Object(ua.a)(r.slice(0,r.length-1),r.slice(1)).map((function(e){var n=Object(E.a)(e,2),r=n[0],i=n[1];return new M.Face3(a,r,i,void 0,t)}))}(t[0],t[1])}))}function la(e){var t=e.onClick,n=e.onPointerMove,i=e.onPointerOut,c=e.value,o=e.colors,u=e.config,s=c.vertices,l=c.faces,f=c.edges,d=void 0===f?[]:f,p=Object(a.useRef)(!1),m=u.showFaces,h=u.showEdges,v=u.showInnerFaces,b=u.opacity,g=Object(ia.e)((function(e){e.vertices=s,e.verticesNeedUpdate=!0,e.faces=sa(l,o),e.elementsNeedUpdate=!0,e.colorsNeedUpdate=!0,e.computeFaceNormals()}),[s,l,o]),O=Object(a.useMemo)((function(){var e=new M.BufferGeometry,t=new Float32Array(900);return e.setAttribute("position",new M.BufferAttribute(t,3)),e}),[]);return Object(ia.c)((function(){var e=O.attributes.position.array;d.forEach((function(t,n){for(var a=Object(E.a)(t,2),r=a[0],i=a[1],c=[].concat(Object(D.a)(s[r].toArray()),Object(D.a)(s[i].toArray())),o=0;o<6;o++)e[6*n+o]=c[o]})),O.setDrawRange(0,2*d.length),O.attributes.position.needsUpdate=!0})),r.a.createElement(r.a.Fragment,null,m&&r.a.createElement("mesh",{onPointerDown:function(e){p.current=!1},onPointerUp:function(e){p.current||null===t||void 0===t||t(e.point)},onPointerMove:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){p.current=!0,null===n||void 0===n||n(e.point)})),onPointerOut:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){null===i||void 0===i||i(e.point)}))},r.a.createElement("geometry",{ref:g,attach:"geometry"}),r.a.createElement("meshStandardMaterial",{side:v?M.DoubleSide:M.FrontSide,attach:"material",color:"grey",args:[{vertexColors:!0}],transparent:b<1,opacity:b})),h&&r.a.createElement("lineSegments",{geometry:O},r.a.createElement("lineBasicMaterial",{attach:"material",color:4473924,linewidth:1,transparent:!0,opacity:.8})))}function fa(e){return e instanceof M.Color?e:new M.Color(e)}function da(e,t){return fa(e).clone().offsetHSL(0,0,t/100)}function pa(e,t){var n=new M.Color(e),a=new M.Color(t);return{primary:{face:n,vertex:a},secondary:{face:n.clone().offsetHSL(0,0,-1/4),vertex:a.clone().offsetHSL(0,0,-1/4)},edge:{ortho:n.clone().lerp(a,1/3).offsetHSL(0,-1/4,.1),gyro:n.clone().lerp(a,2/3).offsetHSL(0,-1/4,.1)}}}var ma={2:pa("#000000","#ffffff"),3:pa("#1bcc3b","#15ace8"),4:pa("#ff3d3d","#ffe100"),5:pa("#424eed","#f24bd4")};function ha(e,t){if(e.isAugmentedPrism()){var n=e.specs.sourcePrism(),a=ma[n.data.base];return e.isBaseFace(t)?a[n.data.type].face:e.isSideFace(t)?a.edge.ortho:a.primary.vertex.clone().offsetHSL(0,0,1/4)}if(e.isAugmentedClassical()){var r=ma[e.specs.sourceClassical().data.family],i=e.specs.sourceClassical().isTruncated()?"secondary":"primary";return e.isMainFace(t)?r[i].face:e.isMinorFace(t)?r.primary.vertex:e.isCapTop(t)?da(r.primary.face,25):da(3===t.numSides?r.primary.vertex:r.edge.ortho,25)}if(e.isDiminishedSolid()){var c=ma[5];return e.isAugmentedFace(t)?da(c.primary.vertex,25):e.isDiminishedFace(t)?(o=c.primary.face,u=25,fa(o).clone().offsetHSL(0,0,-u/100)):c.primary.vertex}var o,u}function va(e,t){return e instanceof X?function(e,t){var n=ma[e.specs.data.family],a=e.getFacet(t);return a?n[t.numSides>5?"secondary":"primary"][a]:n.edge[e.specs.isSnub()?"gyro":"ortho"]}(e,t):e instanceof re?function(e,t){var n=ma[e.specs.data.base];if(e.isBaseTop(t))return n[t.numSides>5?"secondary":"primary"].face;if(e.inBase(t))return 3===t.numSides?n.primary.vertex:4===t.numSides?n.edge.ortho:ma[5].primary.face;var a=e.specs.isElongated()?"ortho":"gyro";return n.edge[a].clone().offsetHSL(0,-.02,.01)}(e,t):e instanceof le?ha(e,t):void 0}var ba=n(288);function ga(){var e=Object(ia.d)(),t=e.setDefaultCamera,n=e.gl.domElement,i=Object(a.useRef)(),c=Object(a.useRef)();return Object(a.useEffect)((function(){i.current&&t(i.current)}),[t]),Object(ia.c)((function(){var e,t;null===(e=i.current)||void 0===e||e.updateMatrixWorld(),null===(t=c.current)||void 0===t||t.update()})),r.a.createElement(r.a.Fragment,null,r.a.createElement("perspectiveCamera",{ref:i,position:[0,0,5]},r.a.createElement("pointLight",null)),i.current&&r.a.createElement("trackballControls",{ref:c,args:[i.current,n],enabled:!0,noPan:!0,rotateSpeed:8,staticMoving:!0}))}Object(ia.b)({TrackballControls:ca.a});var Oa=function(){var e=function(){var e=ye.a.useState(),t=e.enableFormeColors,n=e.colors,r=be.useState(),i=Ce.useState(),c=i.solidData,o=i.isTransitioning,u=i.faceColors,s=void 0===u?[]:u,l=Oe.useState(),f=l.operation,d=l.options,p=void 0===d?{}:d,m=Object(a.useCallback)((function(e,t){if(!f)return t;switch(f.selectionState(e,r,p)){case"selected":return da(t,25);case"selectable":return da(t,10);default:return t}}),[f,p,r]),h=Object(a.useMemo)((function(){if(t)return r.geom.faces.map((function(e){return m(e,va(r,e))}))}),[r,t,m]),v=Object(a.useMemo)((function(){return o&&s}),[s,o]),b=r.geom,g=Object(a.useMemo)((function(){return b.faces.map((function(e){return m(e,n[e.numSides])}))}),[n,b.faces,m]);return{colors:Object(a.useMemo)((function(){return(v||h||g||b.faces.map((function(e){return n[e.numSides]}))).map(fa)}),[h,v,g,b,n]),solidData:o?c:r.geom.solidData}}(),t=e.colors,n=e.solidData,i=function(){var e=be.useState(),t=Ce.useState().isTransitioning,n=Oe.useState(),r=n.operation,i=n.options,c=void 0===i?{}:i,o=Oe.useActions().setOption,u=Ae(),s=(null!==r&&void 0!==r?r:{}).hitOption,l=void 0===s?"":s;return{setHitOption:function(n){if(r&&!t){var a=r.getHitOption(e,n,c);if(Object(I.a)(a))return o(l,void 0);var i=a[l];Object(ba.a)(c[l],i)||o(l,i)}},unsetHitOption:function(){r&&o(l,void 0)},applyWithHitOption:Object(a.useCallback)((function(n){if(r&&!t){var a=r.getHitOption(e,n,c)[l];c&&a&&u(r,Object(p.a)(Object(p.a)({},c),{},{[l]:a}),(function(e){"cap"===l&&c[l]&&o("cap",B.Cap.find(e,c[l].topPoint))}))}}),[r,u,l,t,c,e,o])}}(),c=i.setHitOption,o=i.unsetHitOption,u=i.applyWithHitOption,s=ye.a.useState();return r.a.createElement(ia.a,{gl:{antialias:!0}},r.a.createElement(ga,null),r.a.createElement("ambientLight",null),r.a.createElement(la,{value:n,colors:t,config:Object(ra.a)(s,["showFaces","showEdges","showInnerFaces","opacity"]),onPointerMove:c,onClick:u,onPointerOut:o}))};function ja(e){var t=e.text,n=e.hidden,a=Object(h.d)({marginTop:h.c.spacing[1],fontSize:h.c.font[7],fontFamily:h.a.verdana,[h.b.mobileLandscape]:{marginTop:0,paddingLeft:h.c.spacing[1]}});return n?r.a.createElement(O.b,null,t):r.a.createElement("div",a(),t)}function ya(e){var t=e.iconName,n=e.title,a=e.to,i=e.replace,c=e.onClick,o=e.iconOnly,u=void 0!==o&&o,s=Object(h.d)(Object(p.a)(Object(p.a)(Object(p.a)({},Object(v.d)("center")),Object(v.c)("DimGray")),{},{textDecoration:"none",padding:h.c.spacing[2],[h.b.mobileLandscape]:{padding:0,flexDirection:"row"}})),l=Object(h.d)(Object(v.c)("DarkSlateGray"));return r.a.createElement(m.c,Object.assign({to:a,replace:i},s(),l("activeClassName"),{onClick:c}),r.a.createElement(Yn.a,{path:t,size:h.c.size[2]}),r.a.createElement(ja,{text:n,hidden:u}))}function ka(e){var t=e.solid;return r.a.createElement(ya,{iconOnly:!0,iconName:Qn.a,title:"Back",to:"/#".concat(Object(c.c)(t))})}var wa=[{name:"list",icon:Qn.f},{name:"info",icon:Qn.h},{name:"options",icon:Qn.b},{name:"operations",icon:Qn.j},{name:"full",title:"Fullscreen",icon:Qn.c}];function Ea(e){var t=e.compact,n=void 0!==t&&t,a=e.onClick,i=Object(h.d)({display:"grid",gridTemplateColumns:"repeat(".concat(wa.length,", 1fr)"),justifyItems:"center",width:"100%"});return r.a.createElement("nav",i(),wa.map((function(e){var t=e.name,i=e.title,c=void 0===i?t:i,o=e.icon;return r.a.createElement(ya,{key:t,replace:!0,to:"../".concat(t),title:Object(x.a)(c),iconName:o,iconOnly:n,onClick:a})})))}function xa(e){return Number.isInteger(e)?"".concat(e,".0"):e}function Fa(e){return"v "+e.map(xa).join(" ")}function Sa(e){return"f "+e.map((function(e){return e+1})).join(" ")}var Ca=[{ext:"json",serializer:JSON.stringify},{ext:"obj",serializer:function(e){var t=e.vertices,n=e.faces,a=t.map(Fa),r=n.map(Sa);return a.concat(r).join("\n")}}];function Aa(e){var t=e.ext,n=e.serializer,a=e.solid,i=e.name,c="".concat(i,".").concat(t),o=new Blob([n(a)],{type:"text/plain;charset=utf-8"}),u=window.URL.createObjectURL(o),s=Object(h.d)(Object(p.a)(Object(p.a)({display:"inline-flex",justifyContent:"center",padding:h.c.spacing[2],width:h.c.size[4],textDecoration:"none",border:"1px LightGray solid",color:"black",fontFamily:h.a.andaleMono},v.f),{},{":not(:last-child)":{marginRight:h.c.spacing[2]}}));return r.a.createElement("a",Object.assign({},s(),{key:t,download:c,href:u}),r.a.createElement(O.b,null,"Download as"),".",t," ",r.a.createElement("span",null,r.a.createElement(Yn.a,{path:Qn.d,size:h.c.size[1]})))}function Da(e){var t=e.solid,n=e.name,a=Object(h.d)({fontFamily:h.a.times,fontSize:h.c.font[4],marginBottom:h.c.spacing[2]});return r.a.createElement("div",null,r.a.createElement("h2",a(),"Download model"),r.a.createElement("div",null,Ca.map((function(e){return r.a.createElement(Aa,Object.assign({key:e.ext},e,{name:n,solid:t}))}))))}var Va=n(579),Ta=n(565),Pa=Ve.a.mark(La);function Ma(e){var t=e.children,n=Object(h.d)({verticalAlign:"sub",fontSize:"smaller"});return r.a.createElement("sub",n(),t)}function Ga(e){var t=e.children;if("undefined"===typeof t)throw new Error("undefined child");if(t<0||t>5)throw new Error("Number not supported");var n=function(){switch(t){case 1:return r.a.createElement(r.a.Fragment,null,"\xb9");case 2:return r.a.createElement(r.a.Fragment,null,"\xb2");case 3:return r.a.createElement(r.a.Fragment,null,"\xb3");case 4:return r.a.createElement(r.a.Fragment,null,"\u2074");case 5:return r.a.createElement(r.a.Fragment,null,"\u2075");default:return t}}(),a=Object(h.d)({fontSize:20});return r.a.createElement("sup",a(),n)}function La(e){var t,n,a,r,i;return Ve.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:t=e.split("."),n={type:"",count:0},a=Object(L.a)(t),c.prev=3,a.s();case 5:if((r=a.n()).done){c.next=17;break}if((i=r.value)!==n.type){c.next=11;break}n.count++,c.next=15;break;case 11:if(!n.count){c.next=14;break}return c.next=14,n;case 14:n={type:i,count:1};case 15:c.next=5;break;case 17:c.next=22;break;case 19:c.prev=19,c.t0=c.catch(3),a.e(c.t0);case 22:return c.prev=22,a.f(),c.finish(22);case 25:if(!n.count){c.next=28;break}return c.next=28,n;case 28:case"end":return c.stop()}}),Pa,null,[[3,19,22,25]])}var Na=[{name:"deltahedron",check:function(e,t){return t.isDeltahedron()}},{name:"chiral",check:function(e){return e.isChiral()}},{name:"honeycomb",check:function(e){return e.isHoneycomb()}}];var za=[{name:"Vertices",area:"verts",render:function(e){var t=e.polyhedron;return r.a.createElement(r.a.Fragment,null,t.numVertices())}},{name:"Edges",area:"edges",render:function(e){var t=e.polyhedron;return r.a.createElement(r.a.Fragment,null,t.numEdges())}},{name:"Faces",area:"faces",render:function(e){var t=e.polyhedron;return r.a.createElement(r.a.Fragment,null,t.numFaces())}},{name:"Vertex configuration",area:"vconf",render:function(e){var t=e.polyhedron.vertexConfiguration(),n=Object.keys(t);return 1===n.length?r.a.createElement(r.a.Fragment,null,n[0]):r.a.createElement("ul",null,Object(Ta.a)(t,(function(e,t){return r.a.createElement("li",{key:t},e,"(",function(e){var t=Object(D.a)(La(e)).map((function(e,t){var n=e.type,a=e.count,i=1===a?n:r.a.createElement(r.a.Fragment,null,n,r.a.createElement(Ga,null,a));return 0===t?i:r.a.createElement(r.a.Fragment,null,".",i)}));return r.a.createElement(r.a.Fragment,null,t)}(t),")")})))}},{name:"Faces by type",area:"ftype",render:function(e){var t=e.polyhedron.numFacesBySides();return r.a.createElement("ul",null,Object(Ta.a)(t,(function(e,t){return r.a.createElement("li",{key:t},e," ",l.m.get(parseInt(t)),1!==e?"s":"")})))}},{name:"Volume",area:"vol",render:function(e){var t=e.polyhedron;return r.a.createElement(r.a.Fragment,null,"\u2248",Object(Va.a)(t.normalizedVolume(),3),"s",r.a.createElement(Ga,null,3))}},{name:"Surface area",area:"sa",render:function(e){var t=e.polyhedron;return r.a.createElement(r.a.Fragment,null,"\u2248",Object(Va.a)(t.normalizedSurfaceArea(),3),"s",r.a.createElement(Ga,null,2))}},{name:"Sphericity",area:"spher",render:function(e){var t=e.polyhedron;return r.a.createElement(r.a.Fragment,null,"\u2248",Object(Va.a)(t.sphericity(),3))}},{name:"Symmetry",area:"sym",render:function(e){var t=e.info,n=t.symmetry().symbol(),a=n.base,i=n.sub,c=t.symmetry().name();return r.a.createElement(r.a.Fragment,null,Object(x.a)(c),", ",a,i?r.a.createElement(Ma,null,i):void 0)}},{name:"Order",area:"order",render:function(e){var t=e.info;return r.a.createElement(r.a.Fragment,null,t.symmetry().order())}},{name:"Properties",area:"props",render:function(e){var t=e.info,n=e.polyhedron,a=Na.filter((function(e){return e.check(t,n)}));return r.a.createElement(r.a.Fragment,null,a.map((function(e){return e.name})).join(", ")||"--")}},{name:"Also known as",area:"alt",render:function(e){var t=e.info.alternateNames();return 0===t.length?r.a.createElement(r.a.Fragment,null,"--"):r.a.createElement("ul",null,t.map((function(e){return r.a.createElement("li",{key:e},r.a.createElement(m.b,{to:"/".concat(Object(c.c)(e),"/info")},e))})))}}];function qa(e){var t=e.info,n=e.polyhedron,a=e.name,i=e.area,c=e.render,o=Object(h.d)({marginBottom:10}),u=Object(h.d)({fontSize:h.c.font[5],marginBottom:h.c.spacing[1]}),s=Object(h.d)({fontFamily:h.a.andaleMono,color:"DimGrey"});return r.a.createElement("div",Object.assign({},o(),{style:{gridArea:i}}),r.a.createElement("dd",u(),a),r.a.createElement("dt",s(),r.a.createElement(c,{polyhedron:n,info:t})))}function Ia(e){var t=Object(h.d)({display:"grid",gridTemplateAreas:'\n      "verts verts edges edges faces faces"\n      "vconf vconf vconf ftype ftype ftype"\n      "vol   vol   sa    sa    spher spher"\n      "sym   sym   sym   sym   order order"\n      "props props props props props props"\n      "alt   alt   alt   alt   alt   alt"\n    ',gridRowGap:h.c.spacing[2]});return r.a.createElement("dl",t(),za.map((function(t){return r.a.createElement(qa,Object.assign({key:t.name},t,e))})))}function Ra(e){var t=e.info,n=Object(h.d)({fontSize:h.c.font[3],marginBottom:h.c.spacing[1],lineHeight:1.25});return r.a.createElement("h2",n(),Object(x.a)(t.canonicalName())," | ",t.conwaySymbol())}function Ba(){var e=be.useState(),t=Object(h.d)(Object(p.a)(Object(p.a)({},Object(v.d)()),{},{borderSpacing:8,borderCollapse:"separate",padding:h.c.spacing[3],fontFamily:h.a.times,[h.b.notMobile]:{height:"100%"}})),n=Object(h.d)({fontSize:h.c.font[5],color:"DimGrey",marginBottom:h.c.spacing[3]}),a=Object(h.d)({[h.b.mobile]:{marginTop:h.c.spacing[4]},[h.b.notMobile]:{marginTop:"auto"}}),i=e.specs;return r.a.createElement("div",t(),r.a.createElement(Ra,{polyhedron:e.geom,info:i}),r.a.createElement("p",n(),i.group()),r.a.createElement(Ia,{polyhedron:e.geom,info:i}),r.a.createElement("div",a(),r.a.createElement(Da,{name:e.specs.name(),solid:e.geom.rawSolidData()})))}var Ha=n(118),Wa=n(97);function _a(e){var t,n=e.input,i=e.value,c=e.setValue,o=function(e,t){switch(e.type){case"checkbox":return{checked:t};case"range":return Object(p.a)(Object(p.a)({},Object(ra.a)(e,["min","max","step"])),{},{value:t});default:return{value:t}}}(n,i),u=Object(a.useCallback)((function(e){return c(n.key,function(e,t){switch(e.type){case"checkbox":return t.checked;default:return t.value}}(n,e.target))}),[n,c]);switch(n.type){case"select":return r.a.createElement("select",Object.assign({onChange:u},o),null===(t=n.options)||void 0===t?void 0:t.map((function(e){return r.a.createElement("option",{key:e,value:e},e)})));default:return r.a.createElement("input",Object.assign({type:n.type,onChange:u},o))}}var Ua=Object(a.memo)((function(e){var t=e.input,n=e.value,a=e.setValue,i=Object(h.d)(Object(p.a)(Object(p.a)({},Object(v.e)(void 0,"space-between")),{},{width:"100%",fontFamily:Hn.andaleMono,":not(:last-child)":{marginBottom:h.c.spacing[3]}}));return r.a.createElement("label",i(),t.display,r.a.createElement(_a,{input:t,value:n,setValue:a}))}));function Ja(e){var t=e.onClick,n=Object(h.d)(Object(p.a)(Object(p.a)({},v.f),{},{width:120,height:30,marginTop:h.c.spacing[3],border:"1px LightGray solid",fontFamily:Hn.andaleMono,fontSize:h.c.font[6]}));return r.a.createElement("button",Object.assign({},n(),{type:"button",onClick:t}),"Reset")}function Ya(){var e=ye.a.useState(),t=ye.a.useActions(),n=t.setValue,a=t.reset,i=Object(h.d)(Object(p.a)(Object(p.a)({},Object(v.d)("flex-end")),{},{width:"100%",padding:h.c.spacing[3]}));return r.a.createElement("form",i(),Wa.a.map((function(t){return r.a.createElement(Ua,{key:t.key,input:t,value:Object(Ha.a)(e,t.key),setValue:n})})),r.a.createElement(Ja,{onClick:a}))}var Qa=[{name:"pyramids",index:0},{name:"cupol\xe6 and rotunda",index:2},{name:"elongated pyramids",index:6},{name:"gyroelongated pyramids",index:9},{name:"bipyramids",index:11},{name:"elongated cupol\xe6 / rotund\xe6",index:17},{name:"gyroelongated cupol\xe6 / rotund\xe6",index:21},{name:"bicupol\xe6 / rotund\xe6",index:25},{name:"elongated bicupol\xe6 / rotund\xe6",index:34},{name:"gyroelongated bicupol\xe6 / rotund\xe6",index:43},{name:"augmented prisms",index:48},{name:"augmented dodecahedra",index:57},{name:"diminished icosahedra",index:61},{name:"augmented Archimedean solids",index:64},{name:"gyrate rhombicosidodecahedra",index:71},{name:"diminished rhombicosidodecahedra",index:75},{name:"snub antiprisms",index:83},{name:"others",index:85}];function Ka(e){return e===Qa.length-1?92:Qa[e+1].index}var Xa=[{name:"Uniform Polyhedra",groups:[{name:"platonic",display:"Platonic Solids"},{name:"archimedean",display:"Archimedean Solids"},{name:"prisms",display:"Prisms"},{name:"antiprisms",display:"Antiprisms"}].map((function(e){var t=e.name;return{name:e.display,polyhedra:Object(o.c)(t)}}))},{name:"Johnson Solids",groups:Qa.map((function(e,t){var n=e.name,a=e.index;return{name:n,polyhedra:Object(o.c)("johnson").slice(a,Ka(t))}}))}];function Za(e){var t=e.focused,n=Object(h.d)({transition:"fill ".concat("0.35s"),position:"absolute",paddingLeft:8,paddingTop:2,fill:t?"Gray":"LightGray"},[t]);return r.a.createElement("span",n(),r.a.createElement(Yn.a,{path:Qn.i,size:h.c.size[1]}))}function $a(e){var t=Object(h.d)({transition:"border-color ".concat("0.35s"),width:"100%",height:h.c.size[2],paddingLeft:h.c.spacing[4],border:"2px LightGray solid",borderRadius:9999,fontSize:h.c.font[6],fontFamily:Hn.andaleMono,":focus":{outline:"none",borderColor:"Gray",fill:"Gray"}});return r.a.createElement("input",Object.assign({},e,t(),{type:"text",placeholder:"Search...","aria-label":"search"}))}var er=Object(a.memo)((function(e){var t=e.value,n=e.onChange,i=Object(a.useState)(!1),c=Object(E.a)(i,2),o=c[0],u=c[1],s=Object(h.d)(Object(p.a)(Object(p.a)({},Object(v.e)("center")),{},{padding:h.c.spacing[2],width:"100%",position:"relative"}));return r.a.createElement("label",s(),r.a.createElement($a,{value:t,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return n(e.target.value)})),onFocus:function(){return u(!0)},onBlur:function(){return u(!1)}}),r.a.createElement(Za,{focused:o}))}));function tr(e,t){return e.filter((function(e){return e.includes(t.toLowerCase())}))}function nr(e,t){return e.map((function(e){return{name:e.name,polyhedra:tr(e.polyhedra,t)}})).filter((function(e){return e.polyhedra.length>0}))}function ar(e){var t=e.name,n=Object(h.d)(Object(p.a)(Object(p.a)(Object(p.a)({},v.f),Object(v.k)(h.c.spacing[1],h.c.spacing[3])),{},{textDecoration:"none",display:"block",color:"DimGrey",lineHeight:1.25,fontFamily:h.a.andaleMono,fontSize:h.c.font[6],overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"})),a=Object(h.d)({color:"DarkSlateGray",fontWeight:"bolder"});return r.a.createElement(m.c,Object.assign({to:"../../".concat(Object(c.c)(t),"/list")},n(),a("activeClassName")),Object(x.a)(t))}function rr(e){var t=e.polyhedra;return r.a.createElement("ul",null,t.map((function(e){return r.a.createElement("li",{key:e},r.a.createElement(ar,{name:e}))})))}function ir(e){var t=e.name,n=Object(h.d)(Object(p.a)(Object(p.a)({},Object(v.h)(h.c.spacing[1],h.c.spacing[3])),{},{fontFamily:h.a.times,fontSize:h.c.font[5]}));return r.a.createElement("h3",n(),Object(x.a)(t))}function cr(e){var t=e.name,n=e.polyhedra,a=Object(h.d)(Object(v.j)(h.c.spacing[3]));return r.a.createElement("div",a(),r.a.createElement(ir,{name:t}),r.a.createElement(rr,{polyhedra:n}))}function or(e){var t=e.text,n=Object(h.d)(Object(p.a)(Object(p.a)({},Object(v.h)(h.c.spacing[1],h.c.spacing[3])),{},{fontFamily:h.a.times,fontSize:h.c.font[4]}));return r.a.createElement("h2",n(),t)}function ur(e){var t=e.group,n=t.name,a=t.groups,i=Object(h.d)({marginTop:h.c.spacing[2]});return r.a.createElement("div",i(),r.a.createElement(or,{text:n}),a.map((function(e){return r.a.createElement(cr,Object.assign({key:e.name},e))})))}function sr(){var e=Object(a.useState)(""),t=Object(E.a)(e,2),n=t[0],i=t[1],c=""===n?Xa:function(e,t){return e.map((function(e){return{name:e.name,groups:nr(e.groups,t)}})).filter((function(e){return e.groups.length>0}))}(Xa,n),o=Object(h.d)(Object(v.m)(h.c.spacing[2]));return r.a.createElement("section",o(),r.a.createElement(er,{value:n,onChange:i}),c.map((function(e){return r.a.createElement(ur,{key:e.name,group:e})})))}function lr(e){var t=e.panel,n=e.operationsPanel;switch(t){case"info":return r.a.createElement(Ba,null);case"operations":return r.a.createElement(n,null);case"options":return r.a.createElement(Ya,null);case"list":return r.a.createElement(sr,null);case"full":return null;default:throw new Error("unknown tab")}}var fr=function(e){var t=e.name,n=Object(h.d)({fontFamily:h.a.andaleMono,fontSize:h.c.font[2],[h.b.notMobile]:{fontWeight:"bold",textAlign:"left"},[h.b.tabletPortrait]:{fontSize:h.c.font[3]},[h.b.mobile]:{fontSize:h.c.font[5],lineHeight:1.25,textAlign:"center"}});return r.a.createElement("h1",Object.assign({"data-testid":"viewer-title"},n()),Object(x.a)(t))},dr=n(549),pr=n(550),mr=n.n(pr),hr=n(557),vr=n.n(hr);a.Component;function br(){var e=Object(h.d)({fontSize:h.c.font[3],fontFamily:h.a.andaleMono,textAlign:"center",[h.b.mobile]:{fontSize:h.c.font[4]}}),t=Oe.useState().operation;if(!t)return null;var n=function(e){switch(e){case"augment":return"Select a face";case"diminish":case"gyrate":return"Select a component";case"sharpen":case"contract":return"Select a type of face";default:return null}}(t.name);return n&&r.a.createElement("div",e(),n)}function gr(e){var t=Object(a.useRef)(null),n=Object(a.useCallback)((function(){t.current&&t.current.focus()}),[]);return[r.a.createElement(O.b,null,r.a.createElement("h2",{tabIndex:0,ref:t},e)),n]}function Or(){var e=Object(h.d)(Object(p.a)(Object(p.a)({},Object(v.d)()),{},{padding:h.c.spacing[3],height:"100%"})),t=Object(h.d)({marginTop:"auto"});return r.a.createElement("section",e(),r.a.createElement(Bn,null),r.a.createElement("div",t(),r.a.createElement(Un,null)))}var jr=h.c.size[3];function yr(e){var t=e.panel,n=(e.solid,e.compact),a=gr(t),i=Object(E.a)(a,2),c=i[0],o=i[1],u=Object(h.d)({width:"100%",height:"100%",position:"relative",display:"grid",gridTemplateRows:"".concat(jr," 1fr"),gridTemplateAreas:'"menu" "content"',borderLeft:n?void 0:"1px solid LightGray"},[n]),s=Object(h.d)(Object(p.a)(Object(p.a)({},Object(v.l)(h.c.spacing[2])),{},{gridArea:"menu",height:jr,borderBottom:n?void 0:"1px solid LightGray"}),[n]),l=Object(h.d)(Object(p.a)(Object(p.a)({},Object(v.n)("y")),{},{gridArea:"content",position:"relative"}));return r.a.createElement("section",u(),r.a.createElement("div",s(),r.a.createElement(Ea,{compact:n,onClick:o})),!n&&r.a.createElement("div",l(),c,r.a.createElement(lr,{panel:t,operationsPanel:Or})))}function kr(e){var t=e.solid,n=Object(h.d)(Object(p.a)(Object(p.a)({},v.b),{},{pointerEvents:"none"})),a=Object(h.d)(Object(p.a)(Object(p.a)({},Object(v.a)("bottom","left")),{},{pointerEvents:"initial",padding:h.c.spacing[4]})),i=Object(h.d)(Object(p.a)(Object(p.a)({},Object(v.a)("top","left")),{},{pointerEvents:"initial",paddingLeft:h.c.spacing[2]})),c=Object(h.d)(Object(p.a)(Object(p.a)({},Object(v.l)(h.c.spacing[4])),{},{height:"100%"})),o=Object(h.d)({paddingTop:h.c.spacing[3],position:"absolute",top:0,right:0,left:0});return r.a.createElement("div",n(),r.a.createElement("div",i(),r.a.createElement(ka,{solid:t})),r.a.createElement("div",a(),r.a.createElement(fr,{name:t})),r.a.createElement("div",o(),r.a.createElement(br,null)),r.a.createElement("div",c(),r.a.createElement(aa,null)))}function wr(e){var t=e.solid,n=e.full,a=Object(h.d)({position:"relative",width:n?"100%":"calc(100% - ".concat("24rem",")"),height:"100%",alignSelf:"flex-start"},[n]);return r.a.createElement("div",a(),r.a.createElement(Oa,null),r.a.createElement(kr,{solid:t}))}function Er(e){var t=e.solid,n=e.panel,a=e.compact,i=Object(h.d)(a?{position:"absolute",top:0,right:0}:{position:"relative",height:"100%",minWidth:"24rem",maxWidth:"24rem"},[a]);return r.a.createElement("div",i(),r.a.createElement(yr,{panel:n,solid:t,compact:a}))}var xr=Object(a.memo)((function(e){var t=e.solid,n=e.panel,a="full"===n,i=Object(h.d)(Object(p.a)(Object(p.a)({},Object(v.e)()),{},{position:"fixed",width:"100vw",height:"100vh",overflow:"hidden"}));return r.a.createElement("div",i(),r.a.createElement(wr,{solid:t,full:a}),r.a.createElement(Er,{solid:t,panel:n,compact:a}))}));function Fr(){var e=Object(h.d)(Object(p.a)(Object(p.a)({},Object(v.d)()),{},{height:"100%",pointerEvents:"none",padding:h.c.spacing[2]})),t=Object(h.d)({pointerEvents:"initial"}),n=Object(h.d)({marginTop:h.c.spacing[2],marginBottom:"auto"}),a=Object(h.d)({marginTop:"auto",marginBottom:h.c.spacing[2]}),i=Object(h.d)({width:"100%",pointerEvents:"initial"});return r.a.createElement("section",e(),r.a.createElement("div",t(),r.a.createElement(Un,null)),r.a.createElement("div",n(),r.a.createElement(br,null)),r.a.createElement("div",a(),r.a.createElement(aa,null)),r.a.createElement("div",i(),r.a.createElement(Bn,null)))}function Sr(e){return{[h.b.mobileLandscape]:e("3rem"),[h.b.mobilePortrait]:e(h.c.size[3])}}function Cr(e){var t=e.solid,n=Object(h.d)(Object(p.a)(Object(p.a)({height:"3rem"},Object(v.l)(h.c.spacing[2])),{},{borderBottom:"1px solid LightGray",width:"100%",display:"grid",gridTemplateColumns:"".concat(h.c.size[2]," 1fr ").concat(h.c.size[2]),alignItems:"center",justifyItems:"center"}));return r.a.createElement("header",n(),r.a.createElement(ka,{solid:t}),r.a.createElement(fr,{name:t}))}function Ar(e){var t=e.panel,n=e.header,a=["operations","full"].includes(t),i=Object(h.d)(Object(p.a)(Object(p.a)({},Object(v.n)("y")),{},{gridArea:"content",position:"relative",zIndex:100},a?{pointerEvents:"none"}:{backgroundColor:"rgba(255, 255, 255, 0.75)"}),[a]);return r.a.createElement("div",i(),n,r.a.createElement(lr,{panel:t,operationsPanel:Fr}))}var Dr=Object(a.memo)((function(e){var t=e.panel,n=e.solid,a=gr(t),i=Object(E.a)(a,2),c=i[0],o=i[1],u=Object(h.d)(Object(p.a)({position:"relative",width:"100vw",height:"100vh",display:"grid",gridTemplateAreas:'"title" "content" "nav"'},Sr((function(e){return{gridTemplateRows:"".concat("3rem"," 1fr ").concat(e)}})))),s=Object(h.d)(Object(p.a)(Object(p.a)({},Sr((function(e){return{height:"calc(100vh - ".concat(e," - ").concat("3rem",")")}}))),{},{zIndex:0,gridArea:"content",position:"relative"})),l=Object(h.d)(Object(p.a)(Object(p.a)(Object(p.a)({},Sr((function(e){return{height:e}}))),Object(v.e)("center")),{},{gridArea:"nav",borderTop:"1px solid LightGray"}));return r.a.createElement("section",u(),r.a.createElement(Cr,{solid:n}),r.a.createElement(Ar,{panel:t,header:c}),r.a.createElement("main",s(),r.a.createElement(Oa,null)),r.a.createElement("div",l(),r.a.createElement(Ea,{onClick:o})))})),Vr=n(111);function Tr(e){var t=e.solid,n=e.panel,o=Oe.useActions().unsetOperation,u=be.useActions().setPolyhedronToName,s=be.useState(),l=Object(i.h)(),f=r.a.useState(t),d=Object(E.a)(f,2),p=d[0],m=d[1];Object(a.useEffect)((function(){m(t)}),[t]),Object(a.useEffect)((function(){m(s.specs.name())}),[s.specs]),Object(a.useEffect)((function(){s.specs.name()!==p?(o(),u(p)):t!==p&&l("/".concat(Object(c.c)(s.specs.name()),"/operations"))}),[p,u,o]);var h="desktop"===Object(Vr.b)().device?xr:Dr;return r.a.createElement(h,{solid:t,panel:n})}var Pr=Object(O.e)([Ce.Provider,Oe.Provider]);function Mr(e){var t=e.solid,n=Object(i.i)().panel,a=void 0===n?"operations":n;return Object(O.d)("".concat(Object(x.a)(t)," - Polyhedra Viewer")),r.a.createElement(be.Provider,{name:t},r.a.createElement(Pr,null,r.a.createElement(Tr,{solid:t,panel:a})))}function Gr(e){return"random"===e?Object(c.b)(o.a):(t=e,d.hasValue(t)?function(e){return d.of(e)}(e):Object(u.c)(e)||Object(o.e)(e)?e:null);var t}function Lr(){var e=Object(i.i)(),t=Object(i.g)().pathname,n=e.solid.replace(/-/g," "),a=Gr(n);return a?a!==n?r.a.createElement(i.a,{replace:!0,to:t.replace(e.solid,Object(c.c)(a))}):r.a.createElement(i.d,null,r.a.createElement(i.b,{path:"/",element:r.a.createElement(i.a,{replace:!0,to:"operations"})}),r.a.createElement(i.b,{path:":panel",element:r.a.createElement(Mr,{solid:a})})):r.a.createElement(w,null)}}}]);
//# sourceMappingURL=6.54d017c3.chunk.js.map